<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
<!-- ...existing code... -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
<!-- ...existing code... -->
    <meta name="theme-color">
    <title>GeoQuiz</title> 
    <!-- Include Swiper's CSS and JS -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
    <link rel="manifest" href="manifest.json">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
	<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">

	<link rel="stylesheet" href="styles.css">
	
	<link rel="icon" href="Logos/Geography.ico" type="image/x-icon">
<link rel="icon" href="Logos/Geography-16x16.webp" sizes="16x16" type="image/webp">
<link rel="icon" href="Logos/Geography-32x32.webp" sizes="32x32" type="image/webp">
<link rel="icon" href="Logos/Geography-48x48.webp" sizes="48x48" type="image/webp">

<!-- Apple Touch Icons -->
<link rel="apple-touch-icon" href="Logos/Geography.webp">
<link rel="apple-touch-icon" sizes="57x57" href="Logos/Geography-57x57.webp">
<link rel="apple-touch-icon" sizes="72x72" href="Logos/Geography-72x72.webp">
<link rel="apple-touch-icon" sizes="114x114" href="Logos/Geography-114x114.webp">
<link rel="apple-touch-icon" sizes="152x152" href="Logos/Geography-152x152.webp">
<link rel="apple-touch-icon" sizes="180x180" href="Logos/Geography-180x180.webp">
<script src="https://cdn.jsdelivr.net/npm/three@0.135.0/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.135.0/examples/js/controls/OrbitControls.js"></script>  

</head>
<body class="page-exit">


<div id="auth-container">
  <!-- Logo centered above the forms -->
  <img src="Logos/Geography.jpg" alt="Your Logo" class="logo" />

  <!-- Container for the two auth boxes -->
  <div class="boxes">
    <div class="auth-box">
      <h2>Register</h2>
      <input id="regEmail"    type="email"    placeholder="Email">
      <input id="regPassword" type="password" placeholder="Password">
      <input id="regUsername" type="text"     placeholder="Username">
      <button onclick="handleRegister()">Sign Up</button>
    </div>

    <div class="auth-box">
      <h2>Login</h2>
      <input id="loginEmail"    type="email"    placeholder="Email">
      <input id="loginPassword" type="password" placeholder="Password">
      <button onclick="handleLogin()">Log In</button>
    </div>
  </div>
</div>

<div id="profile">
  <button id="close-profile">&times;</button>
  <div id="profile-wrapper">    



<div id="pillControl" class="pill-segmented">
    <div class="pill-indicator"></div>
    <!-- First pill is now active by default -->
    <button class="pill-segment active" data-index="0" aria-label="Profile">
  <svg class="icon" viewBox="0 -960 960 960" width="24" height="24" fill="currentColor">
    <path d="M234-276q51-39 114-61.5T480-360q69 0 132 22.5T726-276q35-41 54.5-93T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 59 19.5 111t54.5 93Zm246-164q-59 0-99.5-40.5T340-580q0-59 40.5-99.5T480-720q59 0 99.5 40.5T620-580q0 59-40.5 99.5T480-440Zm0 360q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q53 0 100-15.5t86-44.5q-39-29-86-44.5T480-280q-53 0-100 15.5T294-220q39 29 86 44.5T480-160Zm0-360q26 0 43-17t17-43q0-26-17-43t-43-17q-26 0-43 17t-17 43q0 26 17 43t43 17Z"/>
  </svg>
      <span class="pill-text">Profile</span>
    </button>

    <button class="pill-segment" data-index="1" aria-label="Results">
     <svg class="icon" viewBox="0 -960 960 960" width="24" height="24" fill="currentColor">
    <path d="M640-160v-280h160v280H640Zm-240 0v-640h160v640H400Zm-240 0v-440h160v440H160Z"/>
  </svg>
      <span class="pill-text">Results</span>
    </button>

    <button class="pill-segment" data-index="2" aria-label="Achievements">
<svg class="icon" viewBox="0 -960 960 960" width="24" height="24" fill="currentColor">
    <path d="m368-336 112-84 110 84-42-136 112-88H524l-44-136-44 136H300l110 88-42 136ZM480-80q-139-35-229.5-159.5T160-516v-244l320-120 320 120v244q0 152-90.5 276.5T480-80Zm0-84q104-33 172-132t68-220v-189l-240-90-240 90v189q0 121 68 220t172 132Z"/>
  </svg>
      <span class="pill-text">Achievements</span>
    </button>

    <button class="pill-segment" data-index="3" aria-label="Settings">
  <svg class="icon" viewBox="0 -960 960 960" width="24" height="24" fill="currentColor">
    <path d="m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Z"/>
  </svg>
      <span class="pill-text">Settings</span>
    </button>
  </div>

   




<!-- Content Panes -->
  <div class="content">
    <div class="pane active" data-index="0">
        <h1 class="pane-content-heading">Your Profile</h1>
        <div id="profile-content">
          
        <div class="profile-info">
        <div class="avatar-display" id="openAvatarModal">
          <img id="modalAvatarPreview" src="Bilder/neutral_profile.jpg" alt="Avatar" />
          <img id="editPen" src="Bilder/pen.png" alt="Edit" class="edit-pen" />
        </div>
        </div>
          <div class="profile-info">
  <div class="profile-stats">
  <div class="profile-grid">
    <div class="profile-card">
      <span class="icon">👤</span>
      <div class="value"><span id="pUsername"></span></div>
      <div class="label">Username</div>
    </div>
    <div class="profile-card">
      <span class="icon">🔥</span>
      <div class="value"><span id="pstreak"></span></div>
      <div class="label">Streak</div>
    </div>
    <div class="profile-card">
      <span class="icon">📅</span>
      <div class="value"><span id="pJoinDate"></span></div>
      <div class="label">Joined</div>
    </div>
    <div class="profile-card">
      <span class="icon">🕓</span>
      <div class="value"><span id="pLastActive"></span></div>
      <div class="label">Last active</div>
    </div>
    <div class="profile-card">
      <span class="icon">📝</span>
      <div class="value"><span id="pTotalQuizzes"></span></div>
      <div class="label">Quizzes done</div>
    </div>
    <div class="profile-card">
      <span class="icon">💯</span>
      <div class="value"><span id="pPerfectQuizzes"></span></div>
      <div class="label">Perfect quizzes</div>
    </div>
  </div>
</div>

          </div>
 <button onclick="handleLogout()">Log Out</button>
          </div>

    </div>





<div class="pane" data-index="1">
          <div class="results-container">
    <h1 class="pane-content-heading">Your Quiz Results</h1>
    <div class="filter-container">
  <label for="quizFilter">Filter by Quiz:</label>
  <input type="text" id="quizFilter" placeholder="Start typing quiz name...">
</div>
    <p id="loading">Loading your results…</p>
    <table id="resultsTable" style="display:none;">
    <thead>
    <tr>
        <th class="quiz-name">Quiz Name</th>
        <th>Score</th>
        <th>Completed</th>
        <th>Gave Up</th>
        <th class="date">Date Played</th>
    </tr>
    </thead>
      <tbody></tbody>
    </table>
  </div>
    </div>







    <div class="pane" data-index="2">
      <h1 class="pane-content-heading">Your Badges</h1>
      <div class="grid" id="all-badges-grid"></div>
    </div>


    <div class="pane" data-index="3">
      <h1 class="pane-content-heading">Settings</h1>
            <!-- report.html -->
<form id="report-form" class="report-form">
  <h2>Report a Bug / Send Feedback</h2>
  <label id="label-select-type" class="form-label">
    Type:
    <select name="type" required>
      <option value=""> choose an option </option>
      <option value="bug">🐞 Bug</option>
      <option value="feedback">💡 Feedback</option>
    </select>
  </label>

  <label id="label-message" class="form-label">
    Your Message:
    <textarea name="message" rows="6" placeholder="Describe what happened…" required></textarea>
  </label>

  <button type="submit">Submit Report</button>

  <p id="form-status" class="status"></p>
</form>

</div>
</div>
</div>
 </div>



  <div id="user-msg-modal" class="user-msg-overlay">
    <div class="user-msg-box">
      <div id="user-msg-content">Message will be shown here.</div>
    </div>
  </div>
  
       
        <div id="avatarModal" class="modal-overlay" style="display:none;">
        <div class="modal-content">
          <span class="close-modal" id="closeAvatarModal">&times;</span>
          <div class="upload-card">
            <h2>Upload Your Avatar</h2>
            <div class="preview-wrapper">
              <img id="avatarPreview" src="Bilder/neutral_profile.jpg" alt="Avatar Preview" />
            </div>
            <input type="file" id="avatarInput" accept="image/*" />
            <button id="uploadBtn">Upload</button>
            <p id="status"></p>
          </div>
        </div>
        </div>

  <div id="badge-modal" class="modal">
    <div class="badge-modal-content">
      <span class="badge-modal-close-btn">&times;</span>
      <div class="badge-canvas-container">
  <canvas id="badgeCanvas"></canvas>
</div>

      <div class="badge-info">
        <h2 id="modal-badge-title"></h2>
        <p id="modal-badge-description"></p>
        <p id="modal-badge-earned-date"></p>
      </div>
    </div>
  </div>


  <div id="site-content">
    <header>
<div id="logo" class="logo" style="position: relative;">
  <img src="Logos/Geography.webp" alt="Optimized">
</div>
<div id="open-profile">
  <img id="headerAvatar" src="Bilder/neutral_profile.jpg" alt="Profile" class="profile-overlay">
</div>
        
         <h1 class="wave-text">Welcome to the GeoQuiz!</h1>
    
        <nav>
            <div class="containerSearch">
                
                <div id="searchContainer">
                    <input type="text" id="searchInput" placeholder="Search for a Quiz..." autocomplete="on">
                    <button id="clearSearch">&times;</button>
                    <div id="suggestions"></div>
                  </div>
            </div>
            
            <ul>
                <li><a href="#capital-quiz"><i class="fas fa-city"></i> Capital Quiz</a></li>
                <li><a href="#flag-quiz"><i class="fas fa-flag"></i> Flag Quiz</a></li>
                <li><a href="#worldcountries"><i class="fas fa-globe"></i>World Countries</a></li> 
    
                </ul> <ul>
     <li><a href="#ger-section" onclick="openSection(event, 'ger-section')"><div class="flag-de"></div>
    Germany</a></li>
     <li><a href="#mex-section" onclick="openSection(event, 'mex-section')"><div class="flag-mx"></div>Mexico</a></li>
     <li><a href="#us-section" onclick="openSection(event, 'us-section')"><i class="fas fa-flag-usa"></i>USA</a></li>
     
     <li><a href="#memory-quiz"><i class="fas fa-brain"></i> Memory</a></li>
            </ul>
        </nav>
    </header>
    
    
    
    <!-- Swiper Container -->
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <img src="Bilder/slide1.webp" alt="Optimized"    >
                <div class="slide-text">
                    <h2>Discover the World</h2>
                    <p>Explore our geography quizzes and test your knowledge.</p>
                </div>
            </div>
            <div class="swiper-slide">
                <img src="Bilder/capital slide.webp" alt="Optimized"    >
                <div class="slide-text">
                    <h2>Learn About Capitals</h2>
                    <p>Challenge yourself with our capital city quiz.</p>
                </div>
            </div>
            <div class="swiper-slide">
                <img src="Bilder/flag slide.webp" alt="Optimized"    >
                <div class="slide-text">
                    <h2>Flags of the World</h2>
                    <p>See how many flags you can identify.</p>
                </div>
            </div>
                    <div class="swiper-slide">
                <img src="Bilder/map slide.webp" alt="Optimized"    >
                <div class="slide-text">
                    <h2>Navigate with Precision</h2>
                    <p>Test your ability to locate countries, cities, and landmarks on a map.</p>
                </div>
            </div>
            <div class="swiper-slide">
                <img src="Bilder/river slide.jpeg" alt="Optimized"    >
                <div class="slide-text">
                    <h2>Flow Through Knowledge</h2>
                    <p>Can you identify the countries through which famous rivers flow?</p>
                </div>
            </div>
            <div class="swiper-slide">
                <img src="Bilder/Mountain.JPEG" alt="Optimized"    >
                <div class="slide-text">
                    <h2>Conquer the Mountain of Questions!</h2>
                    <p>Ready to scale new heights? Test your knowledge of the world's tallest peaks, famous ranges, and mountain facts.</p>
                </div>
            </div>
            <div class="swiper-slide">
                <img src="Bilder/population.JPEG" alt="Optimized"    >
                <div class="slide-text">
                    <h2>Guess the Numbers: The Ultimate Population Quiz!</h2>
                    <p>Think you know the world's population stats? Dive into our quiz and test your knowledge!</p>
                </div>
            </div>
            <div class="swiper-slide">
                <img src="Bilder/slide 2.JPEG" alt="Optimized"    >
                <div class="slide-text">
                    <h2>Desert Secrets & Forest Wonders</h2>
                    <p>A Quiz That Takes You From Sun-Baked Deserts to Verdant Forests - Test Your Expertise!</p>
                </div>
            </div>
            <div class="swiper-slide">
                <img src="Bilder/memory slide.webp" alt="Optimized"    >
                <div class="slide-text">
                    <h2>Geography Meets Memory</h2>
                    <p>Engage your brain with geography-based memory games and quizzes.</p>
                </div>
            </div>
        </div>
        <!-- Add Pagination and Navigation -->
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>


    <main>
        <!-- Quiz Sections -->
         <section class="quiz-section-main">
            <i class="fa-solid fa-star" id="section-symbol"></i>
            Favorites
            <i class="fa-solid fa-star" id="section-symbol"></i>
         </section>
           
        <div id="favorites-container"></div>
    
    
    
        <section style="background-color: rgb(61, 184, 143);" id="continent-section" class="quiz-section-main" onclick="toggleQuizSections(event)">
            <i class="fa-solid fa-globe" style="margin-right: 10px;"></i>
            Continents Quizzes
            <i class="fa-solid fa-chevron-down toggle-arrow"></i>
        </section>
        <div id="quiz-sections-countries" class="hidden">
         <section id="worldcountries" class="quiz-section" data-aos="fade-up">
           <button class="favorite-btn" aria-label="Toggle favorite">
             <svg class="heart-icon" width="24" height="24">
               <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
               <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
             </svg>
           </button>
            <div class="quiz-content">
                <img src="Logos/worldcountries2.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of the World</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="worldcountries.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="africa" class="quiz-section" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/africa.png" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of Africa</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="africa.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="europe" class="quiz-section" data-tags="europe, map, europe countries, countries" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/europe.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of Europe</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="europe.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="asia" class="quiz-section" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/asia.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of Asia</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="asia.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="south-america" class="quiz-section" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/samerica.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of South America</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="southamerica.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="north-america" class="quiz-section" data-tags="north america, map, north america countries, countries" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/namerica.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of North America</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="northamerica.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="oceania" class="quiz-section" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/oceania.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of Oceania</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="oceania.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        </div>
    
    
    
        <section  style="
      background: url('https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg') no-repeat center center;
      background-size: 100% auto;
      background-position: fill;
      color: white;
      text-align: center;
      "  class="quiz-section-main" id="us-section" onclick="toggleQuizSections(event)">
            USA Quizzes
            <i class="fa-solid fa-chevron-down toggle-arrow"></i>
        </section>
        <div id="quiz-sections-usa" class="hidden">
        <section id="usa" class="quiz-section" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/USA.JPEG" alt="Optimized" class="quiz-logo">
                <div>
                    <h2>USA States</h2>
                    <p>Stars, Stripes, and Smarts: Are You a USA Expert? Put Your Knowledge to the Test and Ace This Quiz!</p>
                </div>
            </div>
            <a href="us.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="usa-capitals" class="quiz-section" data-tags="us, usa, us states capitals, capitals" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/us-capitals.webp" alt="Optimized" class="quiz-logo">
                <div>
                    <h2>USA States Capitals</h2>
                    <p>Stars, Stripes, and Smarts: Are You a USA Expert? Put Your Knowledge to the Test and Ace This Quiz!</p>
                </div>
            </div>
            <a href="us states capitals.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
    </div>
    <section style="
      background: 
        url('Bilder/mx-wappen.png') no-repeat center center, 
        linear-gradient(to right, green 33.33%, white 33.33%, white 66.66%, red 66.66%);
      background-size: auto 50%, cover; /* Ensure the coat of arms is visible */
      color: black;
      text-align: center;
      padding: 20px;
    " class="quiz-section-main" id="mex-section" onclick="toggleQuizSections(event)">
        Mexico Quizzes
        <i class="fa-solid fa-chevron-down toggle-arrow"></i>
    </section>
    
    
        <div id="quiz-sections-mexico" class="hidden">
            <section id="mexico" class="quiz-section" data-aos="fade-up">
              <button class="favorite-btn" aria-label="Toggle favorite">
                <svg class="heart-icon" width="24" height="24">
                  <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
                  <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
                </svg>
              </button>
                <div class="quiz-content">
                    <img src="Logos/Mexico.JPEG" alt="Optimized" class="quiz-logo"   >
                    <div>
                        <h2>Estados de México</h2>
                        <p>¡Más allá del sombrero y el tequila! ¿Cuánto sabes de México? Pon a prueba tu pasión por México con nuestro quiz.</p>
                    </div>
                </div>
                <a href="mexico.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
            </section>
            <section id="mexico-capitals" class="quiz-section" data-tags="mexico, states capitals, capitales estados, capitales de los estados de mexico" data-aos="fade-up">
              <button class="favorite-btn" aria-label="Toggle favorite">
                <svg class="heart-icon" width="24" height="24">
                  <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
                  <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
                </svg>
              </button>
                <div class="quiz-content">
                    <img src="Logos/mx-capitals.webp" alt="Optimized" class="quiz-logo"   >
                    <div>
                        <h2>Capitales de los Estados de México </h2>
                        <p>¡Más allá del sombrero y el tequila! ¿Cuánto sabes de México? Pon a prueba tu pasión por México con nuestro quiz.</p>
                    </div>
                </div>
                <a href="inprogress.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
            </section>
        </div>
    
        <section style="background: linear-gradient(to bottom, black 33.33%, red 33.33%, red 66.66%, gold 66.66%);"  
      class="quiz-section-main" id="ger-section"  onclick="toggleQuizSections(event)">
        Germany Quizzes
        <i class="fa-solid fa-chevron-down toggle-arrow"></i>
    </section>
    
    <div id="quiz-sections-germany" class="hidden">
        <section id="germany" class="quiz-section" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/Germany.JPEG" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Deutschland Bundesländer</h2>
                    <p>Wissen ist Macht: Stell dich dem Deutschland-Quiz und beweis es!</p>
                </div> 
            </div>
            <a href="Germany.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
    
        <section id="germany" class="quiz-section" data-tags="germany, deutschland, bundesländer hauptstädte, states capitals, capital, germany states capitals" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/de-capitals.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Deutschland Bundesländer Hauptstädte</h2>
                    <p>Wissen ist Macht: Stell dich dem Deutschland-Quiz und beweis es!</p>
                </div> 
            </div>
            <a href="inprogress.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
    </div>
    
    
        <section id="all-section" class="quiz-section-main" onclick="toggleQuizSections(event)">
            All Quizzes
            <i class="fa-solid fa-chevron-down toggle-arrow"></i>
        </section>
    
    
        <div id="quiz-sections-all" class="hidden">
         <section id="capital-quiz" class="quiz-section" data-aos="fade-up">
           <button class="favorite-btn" aria-label="Toggle favorite">
             <svg class="heart-icon" width="24" height="24">
               <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
               <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
             </svg>
           </button>
            <div class="quiz-content">
                <img src="Logos/Capital.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Capital Quiz</h2>
                    <p>Test your knowledge of world capitals.</p>
                </div>
            </div>
            <a href="Capitals_Quizzes.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
            <section id="worldcountries" class="quiz-section" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/worldcountries2.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of the World</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="worldcountries.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="flag-quiz" class="quiz-section" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/Flag.webp" alt="Optimized" data-tags="flag, world flags" class="quiz-logo"    >
                <div>
                    <h2>Flag Quiz</h2>
                    <p>Identify the flags of different countries.</p>
                </div>
            </div>
            <a href="All_Flags.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="flag-color-quiz" class="quiz-section" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/flag-color.PNG" alt="Optimized" data-tags="flag, game, flag color, world flags" class="quiz-logo"    >
                <div>
                    <h2>Flag Color Quiz</h2>
                    <p>Color the flags of different countries.</p>
                </div>
            </div>
            <a href="flag-color.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
    
        <section id="map-quiz" class="quiz-section" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/Map.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Map Quiz</h2>
                    <p>Locate countries and cities on a map.</p>
                </div>
            </div>
            <a href="worldcountries_map_click.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="worldcountries_by_border" class="quiz-section" data-tags="world countries, borders, border, 90 seconds, map, world, countries" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/worldcountries2.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>World Countries by Borders</h2>
                    <p>When you guess a country, all the countries it borders will also be completed. Can you fill in the world map in just 90 seconds?</p>
                </div>
            </div>
            <a href="worldcountries_in_90.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="worldcountries_empty" class="quiz-section" data-tags="world countries, empty, challenging, hard, empty map, map, world, countries" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/worldcountries2.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>World Countries Empty Map</h2>
                    <p>Name all the countries of the world. Once you name a country it will appear on the map.</p>
                </div>
            </div>
            <a href="worldcountries_empty.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="africa" class="quiz-section" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/africa.png" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of Africa</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="africa.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="europe" class="quiz-section" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/europe.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of Europe</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="europe.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="asia" class="quiz-section" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/asia.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of Asia</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="asia.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="south-america" class="quiz-section" data-tags="south-america america, map, south america countries, countries" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/samerica.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of South America</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="southamerica.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="norht-america" class="quiz-section" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/namerica.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of North America</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="northamerica.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="oceania" class="quiz-section" data-tags="oceania, map, oceania countries, countries" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/oceania.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of Oceania</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="oceania.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="river-quiz" class="quiz-section" data-tags="river, river quiz" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/River.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>River Quiz</h2>
                    <p>Match rivers with their respective countries.</p>
                </div>
            </div>
            <a href="River.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="moutain-quiz" class="quiz-section" data-tags="mountain, mountains" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/Mountain.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Mountain</h2>
                    <p>Climb the Peaks of Knowledge!</p>
                </div>
            </div>
            <a href="Mountain_Quiz.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="population-quiz" class="quiz-section" data-tags="population, population quiz" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/Population.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Population</h2>
                    <p>How Well Do You Know the World’s People? Take the Quiz!</p>
                </div>
            </div>
          <a href="population.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="deserts-and-forests" class="quiz-section" data-tags="desert, forest, deserts and forests" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
        <div class="quiz-content">
            <img src="Logos/Desert&Forest.JPEG" alt="Optimized" class="quiz-logo"   >
            <div>
                <h2>Deserts & Forests</h2>
                <p>Explore the Extremes: Are You Ready to Challenge Your Knowledge of Desert Dunes and Forest Groves? Dive Into the Challenge!</p>
            </div>
        </div>
        <a href="inprogress.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
    </section>
    <section id="cities" class="quiz-section" data-tags="cities, städte, city" data-aos="fade-up">
      <button class="favorite-btn" aria-label="Toggle favorite">
        <svg class="heart-icon" width="24" height="24">
          <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
          <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
        </svg>
      </button>
        <div class="quiz-content">
            <img src="Logos/Cities.JPEG" alt="Optimized" class="quiz-logo"   >
            <div>
                <h2>Cities Quiz</h2>
                <p>Explore the World’s Most Iconic Cities: A Quiz That Will Challenge Your Urban Knowledge and Test Your Global Awareness!</p>
            </div>
        </div>
        <a href="inprogress.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
    </section> 
    <section id="countries-shape" class="quiz-section" data-tags="shape, countries shape, countries" data-aos="fade-up">
      <button class="favorite-btn" aria-label="Toggle favorite">
        <svg class="heart-icon" width="24" height="24">
          <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
          <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
        </svg>
      </button>
        <div class="quiz-content">
            <img src="Logos/shape.JPEG" alt="Optimized" class="quiz-logo"   >
            <div>
                <h2>Countries Shape Quiz</h2>
                <p>Can You Guess the Country by Its Shape?</p>
            </div>
        </div>
        <a href="shape.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
    </section> 
    <section id="germany" class="quiz-section" data-aos="fade-up">
      <button class="favorite-btn" aria-label="Toggle favorite">
        <svg class="heart-icon" width="24" height="24">
          <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
          <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
        </svg>
      </button>
        <div class="quiz-content">
            <img src="Logos/Germany.JPEG" alt="Optimized" class="quiz-logo"   >
            <div>
                <h2>Deutschland Bundesländer
                </h2>
                <p>Wissen ist Macht: Stell dich dem Deutschland-Quiz und beweis es!</p>
            </div> 
        </div>
        <a href="Germany.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
    </section>
    <section id="germany-capitals" class="quiz-section" data-aos="fade-up">
      <button class="favorite-btn" aria-label="Toggle favorite">
        <svg class="heart-icon" width="24" height="24">
          <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
          <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
        </svg>
      </button>
        <div class="quiz-content">
            <img src="Logos/de-capitals.webp" alt="Optimized" class="quiz-logo"   >
            <div>
                <h2>Deutschland Bundesländer Hauptstädte</h2>
                <p>Wissen ist Macht: Stell dich dem Deutschland-Quiz und beweis es!</p>
            </div> 
        </div>
        <a href="inprogress.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
    </section>
    <section id="mexico" class="quiz-section" data-aos="fade-up">
      <button class="favorite-btn" aria-label="Toggle favorite">
        <svg class="heart-icon" width="24" height="24">
          <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
          <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
        </svg>
      </button>
        <div class="quiz-content">
            <img src="Logos/Mexico.JPEG" alt="Optimized" class="quiz-logo"   >
            <div>
                <h2>Estados de México</h2>
                <p>¡Más allá del sombrero y el tequila! ¿Cuánto sabes de México? Pon a prueba tu pasión por México con nuestro quiz.</p>
            </div>
        </div>
        <a href="mexico.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
    </section>
    <section id="mexico-capitals" class="quiz-section" data-aos="fade-up">
      <button class="favorite-btn" aria-label="Toggle favorite">
        <svg class="heart-icon" width="24" height="24">
          <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
          <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
        </svg>
      </button>
        <div class="quiz-content">
            <img src="Logos/mx-capitals.webp" alt="Optimized" class="quiz-logo"   >
            <div>
                <h2>Capitales de los Estaods de México </h2>
                <p>¡Más allá del sombrero y el tequila! ¿Cuánto sabes de México? Pon a prueba tu pasión por México con nuestro quiz.</p>
            </div>
        </div>
        <a href="inprogress.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
    </section>
    <section id="usa" class="quiz-section" data-aos="fade-up">
      <button class="favorite-btn" aria-label="Toggle favorite">
        <svg class="heart-icon" width="24" height="24">
          <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
          <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
        </svg>
      </button>
        <div class="quiz-content">
            <img src="Logos/USA.JPEG" alt="Optimized" class="quiz-logo">
            <div>
                <h2>USA States</h2>
                <p>Stars, Stripes, and Smarts: Are You a USA Expert? Put Your Knowledge to the Test and Ace This Quiz!</p>
            </div>
        </div>
        <a href="us.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
    </section>
    <section id="usa-capitals" class="quiz-section" data-aos="fade-up">
      <button class="favorite-btn" aria-label="Toggle favorite">
        <svg class="heart-icon" width="24" height="24">
          <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
          <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
        </svg>
      </button>
        <div class="quiz-content">
            <img src="Logos/us-capitals.webp" alt="Optimized" class="quiz-logo">
            <div>
                <h2>USA States Capitals</h2>
                <p>Stars, Stripes, and Smarts: Are You a USA Expert? Put Your Knowledge to the Test and Ace This Quiz!</p>
            </div>
        </div>
        <a href="us states capitals.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
    </section>
        <section id="memory-quiz" class="quiz-section" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/Memory.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Memory</h2>
                    <p>Test your memory with geography-based challenges.</p>
                </div>
            </div>
            <a href="Memory.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="all-countries-table" class="quiz-section" data-aos="fade-up">
          <button class="favorite-btn" aria-label="Toggle favorite">
            <svg class="heart-icon" width="24" height="24">
              <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="none" stroke="#ccc" stroke-width="2"/>
              <path class="heart-filled" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff6b81" />
            </svg>
          </button>
            <div class="quiz-content">
                <img src="Logos/database.png" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries and Region Database</h2>
                    <p>From capitals to currencies - how well do you know the world? Dive in and explore every corner of the globe!</p>
                </div>
            </div>
            <a href="countries.html" onclick="delayLink(event, this)" class="quiz-link">Go there</a>
        </section>
    </div>
    </main>

    <div id="message">
        <div id="noResultsMessage" class="no-results-message" style="display: none;">No results found.</div>
        <div id="didYouMeanMessage" class="did-you-mean-message" style="display: none;"><u>Did you mean:</u></div>
    </div>
    <footer class="footer" data-aos="fade-up">
        <div class="footer-container">
          <div class="footer-logo">
            <a href="../index.html"><img src="Logos/Geography.webp" alt="Optimized"></a>
          </div>
          <div class="footer-info">
            <div class="footer-social">
              <a href="#"><i class="fab fa-facebook-f"></i></a>
              <a href="#"><i class="fab fa-twitter"></i></a>
              <a href="#"><i class="fab fa-instagram"></i></a>
              <a href="#"><i class="fab fa-linkedin-in"></i></a>
              <a href="Terms and Privacy.html" class="halved-shield">
                  <i class="fas fa-shield fa-shield-left"></i>
                  <i class="fas fa-shield fa-shield-right"></i>
                </a>
            </div>
            <div class="footer-copyright">
              <p>&copy; 2024 GEOQUIZ LTD GmbH & Co. KG <br> All Rights Reserved.</p>
            </div>
          </div>
        </div>
      </footer>
    
    </div>

    <script>
(function(){
  const container = document.getElementById('pillControl');
  const pills     = Array.from(container.querySelectorAll('.pill-segment'));
  const indicator = container.querySelector('.pill-indicator');
  const panes     = Array.from(document.querySelectorAll('.pane'));

  let startX = 0,
      baseLeft = 0,
      baseW = 0,
      dragging = false,
      dragStarted = false;
  const DRAG_THRESHOLD = 1;
  let currentIdx = '0';

  // get left & width of a pill relative to container
  function getIndicatorPos(btn) {
    const cR  = container.getBoundingClientRect();
    const bR  = btn.getBoundingClientRect();
    const pad = parseFloat(getComputedStyle(container).paddingLeft);
    return {
      left: bR.left - cR.left - pad,
      width: bR.width
    };
  }

  // move the indicator under a pill
  function moveIndicator(btn, instant=false){
    const { left, width } = getIndicatorPos(btn);
    if(instant){
      // jump
      indicator.style.transition = 'none';
      indicator.style.transform  = `translateX(${left}px)`;
      indicator.style.width      = `${width}px`;
      void indicator.offsetWidth; // force reflow
      indicator.style.transition = 'transform 0.35s cubic-bezier(.4,1.4,.4,1), width 0.25s';
    } else {
      // animated
      indicator.style.transition = 'transform 0.35s cubic-bezier(.4,1.4,.4,1), width 0.25s';
      indicator.style.transform  = `translateX(${left}px)`;
      indicator.style.width      = `${width}px`;
    }
  }

  // activate pill+pane
  function activate(idx, instant=false){
    currentIdx = idx; // ← remember it!
    pills.forEach(b => b.classList.toggle('active', b.dataset.index===idx));
    panes.forEach(p => p.classList.toggle('active', p.dataset.index===idx));
    const btn = pills.find(b => b.dataset.index===idx);
    if(btn) moveIndicator(btn, instant);
  }

  // initial & on resize
  window.addEventListener('load', ()=>{
    const active = container.querySelector('.pill-segment.active');
    const idx    = active ? active.dataset.index : '0';
    activate(idx, true);
  });
  window.addEventListener('resize', ()=> activate(currentIdx, true));

  // click to activate
  pills.forEach(btn=>{
    btn.addEventListener('click', ()=> activate(btn.dataset.index, false));
  });

  // ——— DRAG / SWIPE ———
  container.addEventListener('pointerdown', e=>{
    // sync indicator position
    const activeBtn = pills.find(b=>b.dataset.index===currentIdx);
    if(activeBtn) moveIndicator(activeBtn, true);

    dragging = true;
    dragStarted = false;
    startX = e.clientX;

    // measure actual starting X
    const indR  = indicator.getBoundingClientRect();
    const cR    = container.getBoundingClientRect();
    const pad   = parseFloat(getComputedStyle(container).paddingLeft);
    baseLeft    = indR.left - cR.left - pad;
    baseW       = indR.width;

    indicator.style.transition = 'none';
    container.setPointerCapture(e.pointerId);
    document.addEventListener('pointermove', onMove);
    document.addEventListener('pointerup',   onUp);
    document.addEventListener('pointercancel', onUp);
  });

  function onMove(e){
    if(!dragging) return;
    const dx = e.clientX - startX;
    if(!dragStarted && Math.abs(dx) > DRAG_THRESHOLD) dragStarted = true;
    if(!dragStarted) return;

    const pad = parseFloat(getComputedStyle(container).paddingLeft);
    const max = container.scrollWidth - pad*2 - baseW;
    let x = Math.min(Math.max(0, baseLeft + dx), max);

    indicator.style.transform = `translateX(${x}px)`;
    indicator.style.width     = `${baseW}px`;
  }

  function onUp(e){
    if(!dragging) return;
    dragging = false;
    container.releasePointerCapture(e.pointerId);
    document.removeEventListener('pointermove', onMove);
    document.removeEventListener('pointerup',   onUp);
    document.removeEventListener('pointercancel', onUp);

    if(!dragStarted) return;

    // snap to nearest pill
    const indR    = indicator.getBoundingClientRect();
    const centerX = indR.left + indR.width/2;
    let closest   = pills.find(b=>b.dataset.index===currentIdx);
    let minD      = Infinity;

    pills.forEach(b=>{
      const bR = b.getBoundingClientRect();
      const c  = bR.left + bR.width/2;
      const d  = Math.abs(c - centerX);
      if(d < minD){
        minD    = d;
        closest = b;
      }
    });

    activate(closest.dataset.index, false);
  }
})();
</script>


<!-- Include Supabase JS client -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>

<script>
  // 1️⃣ Initialize Supabase client
  const SUPABASE_URL      = 'https://pzyzdmndotuvbvfhxwad.supabase.co';
  const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB6eXpkbW5kb3R1dmJ2Zmh4d2FkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY4MDUxNzIsImV4cCI6MjA2MjM4MTE3Mn0.UpltfEmKUgYINeWP4aHPOkYT8cOx6nVi0cdE5bMAjqA';
  const sb = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY, {
    auth: {
      persistSession: true,
      autoRefreshToken: true,
    }
  });

  // 2️⃣ Show/hide main UI
  function showApp(user) {
    document.getElementById('auth-container').style.display = 'none';
    document.getElementById('site-content').style.display = 'block';
    document.body.classList.remove('auth-bg'); // Remove auth background
  document.getElementById('profile').classList.remove('open'); // <-- use class, not display
    loadProfile(user);
    initFavorites();
    // Run on page load
    showUserMessage();
    loadBadges();
  }

  function showAuth() {
    document.getElementById('auth-container').style.display = 'flex';
    document.getElementById('site-content').style.display = 'none';
    document.body.classList.add('auth-bg'); // Add auth background
  document.getElementById('profile').classList.remove('open'); // <-- use class, not display
  }

  // 3️⃣ Register new users
  async function handleRegister() {
    const email = document.getElementById('regEmail').value.trim();
    const password = document.getElementById('regPassword').value;
    const username = document.getElementById('regUsername').value.trim();

    if (!username) return alert('Please choose a username.');

    // Check if username already exists
    const { data: clash, error: clashErr } = await sb
      .from('profiles')
      .select('id', { count: 'exact' })
      .eq('username', username)
      .maybeSingle();
    if (clashErr) {
      console.error('[handleRegister] username check error:', clashErr);
      return alert('Error checking username availability.');
    }
    if (clash) {
      return alert(`Sorry, “${username}” is taken.`);
    }

    // Sign up user
    const { error } = await sb.auth.signUp({
      email,
      password,
      options: {
        data: { username },
        emailRedirectTo: 'https://sebastian-h-g.github.io/GeoQuiz'
      }
    });
    if (error) {
      console.error('[handleRegister] signup error:', error);
      return alert('Signup error: ' + error.message);
    }
    alert('✅ Check your email to confirm before logging in.');
  }

  // 4️⃣ Login existing users
  async function handleLogin() {
    console.log('[handleLogin] logging in...');
    const email = document.getElementById('loginEmail').value.trim();
    const password = document.getElementById('loginPassword').value;

    const { error } = await sb.auth.signInWithPassword({ email, password });
    if (error) {
      console.error('[handleLogin] login error:', error);
      return alert('Login error: ' + error.message);
    }
    // onAuthStateChange will handle success
  }

// 5️⃣ Load and display user profile & activity data
async function loadProfile(user) {
  // 1) Email is already on the user object
   // const pEmail = document.getElementById('pEmail');
  //  if (pEmail) pEmail.textContent = user.email;

  // 2) Kick off all of our queries simultaneously
  const [
    { data: profile, error: profileErr },
    authRes,
    totalRes,
    perfectRes
  ] = await Promise.all([
    sb.from('profiles').select('username, avatar_url, created_at').eq('id', user.id).single(),
    sb.auth.getUser(),
    sb.from('quiz_results').select('id', { count: 'exact', head: true }).eq('player', user.id),
    sb.from('quiz_results').select('id', { count: 'exact', head: true }).eq('player', user.id).eq('completed', true),
  ]);

  if (profileErr) {
    console.error('[loadProfile] profiles fetch error:', profileErr);
    const pUsername = document.getElementById('pUsername');
    if (pUsername) pUsername.textContent = '(error)';
    return;
  }

  const { data: { user: authUser } = {}, error: authErr } = authRes;
  if (authErr) {
    console.warn('[loadProfile] could not fetch auth user:', authErr);
  }

  // Username & avatar
  const pUsername = document.getElementById('pUsername');
  if (pUsername) pUsername.textContent = profile.username || '(no username)';
  if (profile.avatar_url) {
    ['modalAvatarPreview','avatarPreview','headerAvatar'].forEach(el => {
      const elem = document.getElementById(el);
      if (elem) elem.src = profile.avatar_url;
    });
  }

  // Join Date
  const pJoinDate = document.getElementById('pJoinDate');
  if (pJoinDate) {
    pJoinDate.textContent = profile.created_at
      ? new Date(profile.created_at).toLocaleDateString()
      : '(no join date)';
  }

  // Last Active
  const pLastActive = document.getElementById('pLastActive');
  if (pLastActive) {
    if (authUser?.last_sign_in_at) {
      pLastActive.textContent = new Date(authUser.last_sign_in_at).toLocaleString(undefined, {
        year: 'numeric',
        month: '2-digit',
        day: '2-digit',
        hour: '2-digit',
        minute: '2-digit'
      });
    } else {
      pLastActive.textContent = '(n/a)';
    }
  }

  // Quiz counts
  const totalCount   = totalRes.count   ?? 0;
  const perfectCount = perfectRes.count ?? 0;
  const pTotalQuizzes = document.getElementById('pTotalQuizzes');
  if (pTotalQuizzes) pTotalQuizzes.textContent = totalCount;
  const pPerfectQuizzes = document.getElementById('pPerfectQuizzes');
  if (pPerfectQuizzes) pPerfectQuizzes.textContent = perfectCount;

// ── NEW: Activity-Streak Calculation (Last 100 Days) ───────────────────
const hundredDaysAgo = new Date();
hundredDaysAgo.setDate(hundredDaysAgo.getDate() - 100);

// 1) Fetch quiz timestamps from the last 100 days
const { data: results, error: resultsErr } = await sb
  .from('quiz_results')
  .select('played_at')
  .eq('player', user.id)
  .gte('played_at', hundredDaysAgo.toISOString()); // Limit to 100 days

let streak = 0;
if (!resultsErr && Array.isArray(results)) {
  // 2) Build a set of distinct "YYYY-MM-DD" days
  const daysSet = new Set(
    results
      .map(r => new Date(r.played_at).toISOString().split('T')[0])
      .filter(Boolean)
  );

  // 3) Starting from today, walk backward
  let cursor = new Date();
  const isoToday = cursor.toISOString().split('T')[0];
  streak = daysSet.has(isoToday) ? 1 : 0;

  while (true) {
    cursor.setDate(cursor.getDate() - 1);
    const iso = cursor.toISOString().split('T')[0];
    if (daysSet.has(iso)) {
      streak += 1;
    } else {
      break;
    }
  }

  // 4) Update the streak in the 'profiles' table
const { error: updateErr } = await sb
  .from('profiles')
  .update({ streak_count: streak })  // Change this line to use the correct column name
  .eq('id', user.id);

if (updateErr) {
  console.error('[loadProfile] Failed to update streak_count in profiles:', updateErr);
}

} else {
  console.error('[loadProfile] quiz_results fetch error:', resultsErr);
}

// 5) Write it into your <span id="pstreak">
const pStreak = document.getElementById('pstreak');
if (pStreak) {
  pStreak.textContent = streak;
}

}


  // 6️⃣ Logout users
  async function handleLogout() {
    await sb.auth.signOut();
    showAuth();
    alert('Logged out');
  }
// help this is peter shaw nothing to do with the code
  // 7️⃣ Auth state handler (initial load & token refreshes)
  sb.auth.onAuthStateChange((event, session) => {
    console.log('Auth state changed:', event, session);
    if (session && session.user) {
      // Ensure user has a profile record
      (async () => {
        const user = session.user;
        const { data: existing } = await sb
          .from('profiles')
          .select('id')
          .eq('id', user.id)
          .maybeSingle();
        if (!existing) {
          const username = user.user_metadata?.username || 'anonymous';
          await sb.from('profiles').upsert(
            { id: user.id, username },
            { onConflict: 'id' }
          );
        }
      })();
      showApp(session.user);
    } else {
      showAuth();
    }
  });


// ==== Replace your report logic with this ====
const reportForm = document.getElementById('report-form')
const statusMsg  = document.getElementById('form-status')

if (reportForm) {
  reportForm.addEventListener('submit', async (e) => {
    e.preventDefault()
    statusMsg.textContent = ''
    statusMsg.className = 'status'

    // grab report form data
    const { type, message } = Object.fromEntries(new FormData(reportForm))

    // get current user
    const { data: { user }, error: userErr } = await sb.auth.getUser()
    if (userErr || !user) {
      statusMsg.textContent = 'You must be logged in to submit a report.'
      statusMsg.classList.add('error')
      return
    }

    // insert the report
    const { error: insertErr } = await sb
      .from('reports')
      .insert({ user_id: user.id, type, message })

    if (insertErr) {
      statusMsg.textContent = 'Error: ' + insertErr.message
      statusMsg.classList.add('error')
    } else {
      statusMsg.textContent = 'Thank you! Your report has been submitted.'
      statusMsg.classList.add('success')
      reportForm.reset()
    }
  })
}



// ───────────────
// PROFILE IMAGE UPLOAD AVATAR LOGIC
// ───────────────

// ...existing code...
document.addEventListener('DOMContentLoaded', () => {
  const avatarInput   = document.getElementById('avatarInput');
  const avatarPreview = document.getElementById('avatarPreview');
  const uploadBtn     = document.getElementById('uploadBtn');
  const statusText    = document.getElementById('status');

  let selectedFile = null;

   // --- PASTE HERE ---
  function updateAllAvatars(url) {
    document.getElementById('modalAvatarPreview').src = url;
    document.getElementById('avatarPreview').src = url;
    document.getElementById('headerAvatar').src = url;
  }
  // Preview selected image
avatarInput.addEventListener('change', (e) => {
  const file = e.target.files[0];
  if (file && file.type.startsWith('image/')) {
    selectedFile = file;
    const url = URL.createObjectURL(file);
    avatarPreview.src = url;
    statusText.textContent = '';
    // Also update the profile and header avatars
    const modalAvatar = document.getElementById('modalAvatarPreview');
    if (modalAvatar) modalAvatar.src = url;
    const headerAvatar = document.getElementById('headerAvatar');
    if (headerAvatar) headerAvatar.src = url;
  } else {
    statusText.textContent = 'Please select a valid image.';
    selectedFile = null;
  }
});

  // Upload flow
  uploadBtn.addEventListener('click', async () => {
    if (!selectedFile) {
      statusText.textContent = 'No file selected.';
      return;
    }
    uploadBtn.disabled = true;
    statusText.textContent = 'Uploading…';

    // 1) Get current user
    const {
      data: { user },
      error: userErr
    } = await sb.auth.getUser();

    if (userErr || !user) {
      console.error('Auth error:', userErr);
      statusText.textContent = 'You must be logged in.';
      uploadBtn.disabled = false;
      return;
    }

    // 2) Build a unique filename
    const fileExt = selectedFile.name.split('.').pop();
    const fileName = `${user.id}.${Date.now()}.${fileExt}`;

    // 3) Upload to Storage
    const {
      data: uploadData,
      error: uploadErr
    } = await sb
      .storage
      .from('avatars')
      .upload(fileName, selectedFile, { upsert: true });

    if (uploadErr) {
      console.error('Storage upload error:', uploadErr);
      statusText.textContent = `Upload error: ${uploadErr.message}`;
      uploadBtn.disabled = false;
      return;
    }

    // 4) Get public URL
    const { data: urlData } = sb
      .storage
      .from('avatars')
      .getPublicUrl(uploadData.path);
    const publicUrl = urlData.publicUrl;

    // — DEBUG: verify user.id matches existing row
    console.log('Signed-in user id:', user.id);
    const { data: existing, error: fetchErr } = await sb
      .from('profiles')
      .select('id, avatar_url')
      .eq('id', user.id)
      .maybeSingle();
    console.log('Existing profile row:', existing, 'fetchErr:', fetchErr);

    if (fetchErr || !existing) {
      statusText.textContent = 'Profile row not found—did you create it at signup?';
      uploadBtn.disabled = false;
      return;
    }

    // 5) UPDATE only the avatar_url on the existing row
    const { error: dbErr } = await sb
      .from('profiles')
      .update({ avatar_url: publicUrl })
      .eq('id', user.id);

    // ...existing code...
if (dbErr) {
  console.error('DB UPDATE error:', dbErr);
  statusText.textContent = `Database error: ${dbErr.message}`;
} else {
  // After successful upload:
  statusText.textContent = 'Avatar updated!';
  // Update all avatars with the new public URL
  const modalAvatar = document.getElementById('modalAvatarPreview');
  if (modalAvatar) modalAvatar.src = publicUrl;
  const avatarPreview = document.getElementById('avatarPreview');
  if (avatarPreview) avatarPreview.src = publicUrl;
  const headerAvatar = document.getElementById('headerAvatar');
  if (headerAvatar) headerAvatar.src = publicUrl;
}

    uploadBtn.disabled = false;
  });
});
// ...existing code...

// ──────────────────────────────────────────────────
// Helper: simple templating for {{placeholders}}
// ──────────────────────────────────────────────────
function renderTemplate(html, vars) {
  return Object.entries(vars).reduce(
    (acc, [key, val]) =>
      acc.replace(new RegExp(`{{${key}}}`, 'g'), val),
    html
  );
}

// ──────────────────────────────────────────────────
// MESSAGE MODAL LOGIC (Supabase) w/ helper & safety
// ──────────────────────────────────────────────────
async function showUserMessage() {
  // 0. Get current user
  const { data: { user }, error: authErr } = await sb.auth.getUser();
  if (authErr || !user) {
    console.error("User not logged in", authErr);
    return;
  }

  // 0.5 Fetch profile for username (and others if you want)
  const { data: profile, error: profileErr } = await sb
    .from('profiles')
    .select('username, avatar_url')
    .eq('id', user.id)
    .single();
  if (profileErr) {
    console.error("Error fetching profile", profileErr);
    return;
  }

  // 1. Fetch unread messages
  const { data: messages, error: msgErr } = await sb
    .from('user_messages')
    .select('*')
    .eq('user_id', user.id)
    .eq('read', false)
    .order('created_at', { ascending: false });
  if (msgErr) {
    console.error("Error fetching messages", msgErr);
    return;
  }
  if (!messages || messages.length === 0) return;

  const message = messages[0];

  // 2. Render template with placeholders, safely
  const rawHTML = message.message || '';
  const personalizedHTML = renderTemplate(rawHTML, {
    username: profile.username || '(no username)',
    // you can add more: avatar_url: profile.avatar_url || ''
  });

  const contentEl = document.getElementById('user-msg-content');
  contentEl.innerHTML = personalizedHTML;
  document.getElementById('user-msg-modal').style.display = 'flex';
  document.body.style.overflow = 'hidden';

  // 3. Mark message as read
  const { error: updateErr } = await sb
    .from('user_messages')
    .update({ read: true })
    .eq('id', message.id);
  if (updateErr) {
    console.error("Failed to mark message as read:", updateErr);
  } else {
    console.log(`Marked message ${message.id} as read.`);
  }
}

// ... your closeUserMessageModal() + DOMContentLoaded handler unchanged

function closeUserMessageModal() {
  document.getElementById('user-msg-modal').style.display = 'none';
  document.body.style.overflow = '';
}

// After your closeUserMessageModal() function, add this:
document.addEventListener('DOMContentLoaded', () => {
  const userMsgModal = document.getElementById('user-msg-modal');
  if (userMsgModal) {
    userMsgModal.addEventListener('click', function(e) {
      // Only close if the overlay itself was clicked, not the modal box or its children
      if (e.target === userMsgModal) {
        closeUserMessageModal();
      }
    });
  }
});
  // ───────────────
  // BADGES GRID + MODAL + 3D LOGIC
  // ───────────────

  const grid = document.getElementById('all-badges-grid');
  const modal = document.getElementById('badge-modal');
  const closeBtnBadge = modal.querySelector('.badge-modal-close-btn');

  let allBadges = [], earnedIds = [];
    let renderer, scene, camera, controls, badgeMesh, animationId;
    let wiggleStep = 0;
    const baseYaw = 0;
    const WIGGLE_AMPLITUDE = 0.7;
    const WIGGLE_SPEED = 0.02;

  // 1) Load badges & render grid
  async function loadBadges() {
    const { data: badges } = await sb.from('badges').select('id, name, icon_url');
    allBadges = badges || [];

    const { data: { user } } = await sb.auth.getUser();
    if (!user) return console.warn("No user session");

    const { data: userbs } = await sb
      .from('user_badges')
      .select('badge_id')
      .eq('user_id', user.id);
    earnedIds = (userbs || []).map(r => r.badge_id);

    renderAllBadgesGrid();
    addBadgeClickEvent();
  }

  function renderAllBadgesGrid() {
    grid.innerHTML = '';
    const sorted = [...allBadges].sort((a,b) => {
      const aU = earnedIds.includes(a.id), bU = earnedIds.includes(b.id);
      return (aU === bU)? 0 : (aU? -1 : 1);
    });
    sorted.forEach(b => {
      const div = document.createElement('div');
      div.className = 'badge ' + (earnedIds.includes(b.id)? 'unlocked':'locked');
      div.dataset.id = b.id;
      div.innerHTML = `
        <img src="${b.icon_url}" alt="${b.name}" title="${b.name}" />
        <div class="badge-title">${b.name}</div>
      `;
      grid.append(div);
    });
  }

  function addBadgeClickEvent() {
    document.querySelectorAll('.badge').forEach(badge => {
      badge.onclick = () => openBadgeModal(badge.dataset.id);
    });
  }

  // 2) Open modal + populate info + start 3D
  async function openBadgeModal(badgeId) {
    // fetch badge metadata
    const { data: badge } = await sb
      .from('badges')
      .select('name, description, icon_url')
      .eq('id', badgeId)
      .single();
      console.log('Badge:', badge); // <--- Add this line
    const { data: { user } } = await sb.auth.getUser();
    const { data: ub } = await sb
      .from('user_badges')
      .select('earned_at')
      .eq('user_id', user.id)
      .eq('badge_id', badgeId)
      .single();

    // fill text
    document.getElementById('modal-badge-title').textContent       = badge.name;
    document.getElementById('modal-badge-description').textContent = badge.description;
    const d = new Date(ub.earned_at);
    document.getElementById('modal-badge-earned-date').textContent = 'Earned on: ' + d.toLocaleDateString();

    // show modal
    modal.classList.add('visible');

    // init 3D with this badge’s texture
    init3D(badge.icon_url);
  }

closeBtnBadge.onclick = (e) => {
  e.stopPropagation(); // Prevent bubbling to document
  modal.classList.remove('visible');
  if (animationId) cancelAnimationFrame(animationId);
  // optionally: clean up scene
};
// ...existing code...
modal.addEventListener('click', function(e) {
  // Only close if the overlay itself was clicked, not the modal content or its children
  if (e.target === modal) {
    e.stopPropagation(); // <-- Add this line to prevent bubbling!
    modal.classList.remove('visible');
    if (animationId) cancelAnimationFrame(animationId);
    // Optionally: clean up scene here if needed
  }
});
// ...existing code...
document.addEventListener('click', (e) => {
  const badgeModal = document.getElementById('badge-modal');
  const isBadgeModalVisible = badgeModal && badgeModal.classList.contains('visible');
  const clickedInsideProfile = document.getElementById('profile-wrapper').contains(e.target);
  const clickedLogo = document.getElementById('logo').contains(e.target);
  const clickedBadgeModal = badgeModal && badgeModal.contains(e.target);

  // Only close profile if:
  // - profile is open
  // - NOT clicking inside profile-wrapper or logo
  // - NOT clicking inside badge modal (when visible)
  // - badge modal is NOT visible, OR click is NOT inside badge modal
  if (
    profile.classList.contains('open') &&
    !clickedInsideProfile &&
    !clickedLogo &&
    (!isBadgeModalVisible || !clickedBadgeModal)
  ) {
    profile.classList.remove('open');
    body.style.overflow = 'auto';
  }
});


  // 3) THREE.JS INIT & ANIMATION
// ...existing code...
 function init3D(textureURL) {
      const canvas = document.getElementById('badgeCanvas');
      renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: false });
      const width = canvas.clientWidth;
      const height = canvas.clientHeight;
      renderer.setSize(width, height);
      renderer.setPixelRatio(window.devicePixelRatio);
      renderer.setClearColor(0x1a237e, 1); // Use white for canvas background

      scene = new THREE.Scene();
      camera = new THREE.PerspectiveCamera(60, width / height, 0.1, 100);
      camera.position.set(0, 0, 3);

      controls = new THREE.OrbitControls(camera, canvas);
      controls.enableDamping = true;
      controls.dampingFactor = 0.1;
      controls.enablePan = false;
      controls.enableZoom = false;

      // Lights
      scene.add(new THREE.AmbientLight(0xffffff, 0.8));
      const frontLight = new THREE.DirectionalLight(0xffffff, 1);
      frontLight.position.set(2, 2, 2);
      scene.add(frontLight);
      const backLight = new THREE.DirectionalLight(0xffffff, 0.5);
      backLight.position.set(0, 0, -2);
      scene.add(backLight);

      const loader = new THREE.TextureLoader();
      loader.crossOrigin = 'anonymous';
      loader.load(
        textureURL,
        texture => {
          badgeMesh = new THREE.Group();

          // Set a specific color for the circle backing
          const circleColor = 0xffffff; // Change this to any color (e.g., 0xff0000 for red)

          // Backing disc (colored background behind image)
          const backingGeom = new THREE.CircleGeometry(1, 64);
          const backingMat = new THREE.MeshBasicMaterial({ color: circleColor, side: THREE.DoubleSide });
          const backing = new THREE.Mesh(backingGeom, backingMat);
          backing.renderOrder = 0;
          backing.material.depthWrite = true;
          backing.material.depthTest = true;
          backing.position.z = 0.099;

          // Front/back textured discs
          const circleGeom = new THREE.CircleGeometry(1, 64);
          const imgMat = new THREE.MeshStandardMaterial({
            map: texture,
            side: THREE.DoubleSide,
            transparent: true
          });
          const front = new THREE.Mesh(circleGeom, imgMat);
          front.position.z = 0.101;
          const back = new THREE.Mesh(circleGeom, imgMat);
          back.position.z = -0.101;
          back.rotation.y = Math.PI;

          // Edge cylinder
          const edgeGeom = new THREE.CylinderGeometry(1, 1, 0.2, 64, 1, true);
          const edgeMat = new THREE.MeshStandardMaterial({
            color: 0xB0B0B0,
            metalness: 0.2,
            roughness: 0.8
          });
          const edge = new THREE.Mesh(edgeGeom, edgeMat);
          edge.rotation.x = Math.PI / 2;

          badgeMesh.add(edge, backing, front, back);
          scene.add(badgeMesh);
          animate();
        },
        undefined,
        err => console.error('Texture load failed', err)
      );
    }

    function animate() {
      controls.update();
      if (badgeMesh) {
        badgeMesh.rotation.y = baseYaw + Math.sin(wiggleStep) * WIGGLE_AMPLITUDE;
        wiggleStep += WIGGLE_SPEED;
      }
      renderer.render(scene, camera);
      animationId = requestAnimationFrame(animate);
    }


  // keep canvas full-size
  window.addEventListener('resize', () => {
    if (!renderer) return;
    const canvas = document.getElementById('badgeCanvas');
    renderer.setSize(canvas.clientWidth, canvas.clientHeight);
    camera.aspect = canvas.clientWidth / canvas.clientHeight;
    camera.updateProjectionMatrix();
  });

// ───────────────
// FAVORITES LOGIC (using section `id` attribute)
// ───────────────

// IDs of quizzes you want every new user to have favorited
// These correspond to each <section id="..." class="quiz-section"> attribute
const DEFAULT_FAVORITES = [
  'capital-quiz',
  'worldcountries',
  'flag-quiz',
];

// 1️⃣ Helpers to CRUD favorites in Supabase
async function fetchFavorites(userId) {
  const { data, error } = await sb
    .from('favorites')
    .select('section_id')
    .eq('user_id', userId);
  if (error) console.error('fetchFavorites:', error);
  return (data || []).map(r => r.section_id);
}

async function addFavorite(userId, sectionId) {
  const { error } = await sb
    .from('favorites')
    .insert({ user_id: userId, section_id: sectionId });
  if (error) console.error('addFavorite:', error);
}

async function removeFavorite(userId, sectionId) {
  const { error } = await sb
    .from('favorites')
    .delete()
    .eq('user_id', userId)
    .eq('section_id', sectionId);
  if (error) console.error('removeFavorite:', error);
}

// Helper to update original favorite buttons
function updateOriginalFavoriteButtons(favoriteSet) {
  document.querySelectorAll('.quiz-section').forEach(sec => {
    const secId = sec.id;
    const btn = sec.querySelector('.favorite-btn');
    if (!secId || !btn) return;
    if (favoriteSet.has(secId)) {
      btn.classList.add('favorited');
    } else {
      btn.classList.remove('favorited');
    }
  });
}

// Render favorites under the banner
// ...existing code...
// Render favorites under the banner
// ...existing code...
// Render favorites under the banner

// ...existing code...
async function updateBanner() {
  // Get current user
  const { data: { user } } = await sb.auth.getUser();
  if (!user) return;

  const favs = await fetchFavorites(user.id); // Always fetch latest from DB
  const favoriteSet = new Set(favs);

  const container = document.getElementById('favorites-container');
  container.innerHTML = '';

  if (favs.length === 0) {
    container.innerHTML = '<p id="no-favs">No favorites yet. ⭐ Click a heart to add one!</p>';
  } else {
    favoriteSet.forEach(id => {
      const orig = document.getElementById(id);
      if (!orig) return;

      const clone = orig.cloneNode(true);
      clone.id = `fav_${id}`;
      clone.style.cursor = 'pointer';

      // Remove IDs from children to avoid duplicates
      clone.querySelectorAll('[id]').forEach(el => {
        if (el !== clone) el.removeAttribute('id');
      });

      // ⭐ Ensure filled heart is visible in the clone
      clone.querySelectorAll('.favorite-btn').forEach(cloneBtn => {
        cloneBtn.classList.add('favorited');
        cloneBtn.disabled = false;

        // Force the filled heart to be visible
        const filled = cloneBtn.querySelector('.heart-filled');
        if (filled) filled.style.opacity = '1';
        // Optionally, make the outline less visible for clarity
        const outline = cloneBtn.querySelector('.heart-outline');
        if (outline) outline.style.opacity = '0.2';

        // Remove favorite when clicking the heart in the banner
        cloneBtn.addEventListener('click', async (e) => {
          e.stopPropagation();
          await removeFavorite(user.id, id);
          updateBanner();
        });
      });

      container.appendChild(clone);
    });
  }

  // Update original buttons after banner update
  updateOriginalFavoriteButtons(favoriteSet);
}
// ...existing code...
// ...existing code...


// ...existing code...
// ...existing code...
// Initialize favorites and handle button clicks
async function initFavorites() {
  const { data: { user } } = await sb.auth.getUser();
  if (!user) return;

  // 1️⃣ Fetch existing favorites
  let favs = await fetchFavorites(user.id);

  // 2️⃣ Seed defaults ONLY if the user has never had favorites before
  // Use a flag in localStorage (or Supabase profile if you want it cross-device)
  const seededKey = `favoritesSeeded_${user.id}`;
  if (favs.length === 0 && !localStorage.getItem(seededKey)) {
    await Promise.all(DEFAULT_FAVORITES.map(id => addFavorite(user.id, id)));
    favs = await fetchFavorites(user.id);
    localStorage.setItem(seededKey, 'true');
  }

  // In‐memory set:
  const favoriteSet = new Set(favs);

  // Bind click handlers to original quiz sections
  document.querySelectorAll('.quiz-section').forEach(sec => {
    const secId = sec.id;
    const btn   = sec.querySelector('.favorite-btn');
    if (!secId || !btn) return;

    // Set initial state
    if (favoriteSet.has(secId)) btn.classList.add('favorited');

    // Remove previous event listeners by resetting onclick
    btn.onclick = null;

    btn.addEventListener('click', async () => {
      if (btn.classList.contains('favorited')) {
        await removeFavorite(user.id, secId);
      } else {
        await addFavorite(user.id, secId);
      }
      updateBanner();
    });
  });

  updateBanner();  // initial render
}



// 3️⃣ Initialize favorites and handle button clicks
async function initFavorites() {
  const { data: { user } } = await sb.auth.getUser();
  if (!user) return;

  // 1️⃣ Fetch existing favorites
  let favs = await fetchFavorites(user.id);

  // 2️⃣ Seed defaults ONLY if the user has never had favorites before
  // Use a flag in localStorage (or Supabase profile if you want it cross-device)
  const seededKey = `favoritesSeeded_${user.id}`;
  if (favs.length === 0 && !localStorage.getItem(seededKey)) {
    await Promise.all(DEFAULT_FAVORITES.map(id => addFavorite(user.id, id)));
    favs = await fetchFavorites(user.id);
    localStorage.setItem(seededKey, 'true');
  }

  // In‐memory set:
  const favoriteSet = new Set(favs);


  function updateOriginalFavoriteButtons(favoriteSet) {
  document.querySelectorAll('.quiz-section').forEach(sec => {
    const secId = sec.id;
    const btn = sec.querySelector('.favorite-btn');
    if (!secId || !btn) return;
    if (favoriteSet.has(secId)) {
      btn.classList.add('favorited');
    } else {
      btn.classList.remove('favorited');
    }
  });
}

// ...existing code...
// ...existing code...

// ...existing code...
// ...existing code...

  // Bind click handlers to original quiz sections
  document.querySelectorAll('.quiz-section').forEach(sec => {
    const secId = sec.id;
    const btn   = sec.querySelector('.favorite-btn');
    if (!secId || !btn) return;

    if (favoriteSet.has(secId)) btn.classList.add('favorited');

    btn.addEventListener('click', async () => {
      if (btn.classList.contains('favorited')) {
        await removeFavorite(user.id, secId);
        btn.classList.remove('favorited');
        favoriteSet.delete(secId);
      } else {
        await addFavorite(user.id, secId);
        btn.classList.add('favorited');
        favoriteSet.add(secId);
      }
      updateBanner();
    });
  });

  updateBanner();  // initial render
}


// ...existing code...
// 8️⃣ Overlay/profile toggling UI
// 1) Grab your close button
const closeBtn = document.getElementById('close-profile');

// 2) Immediately pin it to the viewport on script load
//    (this writes inline styles that beat any CSS specificity issues)
closeBtn.style.position = 'fixed';
closeBtn.style.top      = '1rem';
closeBtn.style.right    = '1rem';
closeBtn.style.zIndex   = '1001';

// 3) Your existing open/close logic (without touching closeBtn anymore)
const profile = document.getElementById('profile');
const wrapper = document.getElementById('profile-wrapper');
const body    = document.body;

document.getElementById('open-profile').addEventListener('click', (e) => {
  e.stopPropagation();

  if (profile.classList.contains('open')) {
    // — Close —
    profile.classList.remove('open');
    body.style.overflow = 'auto';

    wrapper.style.position = '';
    wrapper.style.top      = '';
    wrapper.style.left     = '';
    wrapper.style.right    = '';
    wrapper.style.height   = '';
  } else {
    // — Open with scroll‐pinning —
    const scrollY   = window.scrollY;
    const viewportH = window.innerHeight;

    profile.classList.add('open');
    body.style.overflow = 'hidden';

    wrapper.style.position = 'absolute';
    wrapper.style.top      = scrollY + 'px';
    wrapper.style.left     = '0';
    wrapper.style.right    = '0';
    wrapper.style.height   = viewportH + 'px';
  }
});


document.getElementById('close-profile').addEventListener('click', () => {
  profile.classList.remove('open');
  body.style.overflow = 'auto';
});


// ...existing code...
</script>

  <script type="module" src="displayResults.js" defer></script>
  <script>
    const quizFilterInput = document.getElementById('quizFilter');

quizFilterInput.addEventListener('input', function () {
  const filter = this.value.toLowerCase();
  const rows = document.querySelectorAll('#resultsTable tbody tr');

  rows.forEach(row => {
    const quizName = row.querySelector('td').textContent.toLowerCase();
    if (quizName.includes(filter)) {
      row.style.display = '';
    } else {
      row.style.display = 'none';
    }
  });
});

  </script>
<script>
// filepath: c:\Users\sebas\OneDrive\Documents\GitHub\Sebastian-H-G.github.io\sebastian-h-g.github.io\GeoQuiz\index.html
// ...existing code...
document.addEventListener('DOMContentLoaded', () => {
  // Modal logic
  const avatarDisplay = document.getElementById('openAvatarModal');
  const avatarModal = document.getElementById('avatarModal');
  const closeBtnAvatar = document.getElementById('closeAvatarModal');
  const modalAvatarPreview = document.getElementById('modalAvatarPreview');
  const avatarPreview = document.getElementById('avatarPreview');
  const avatarInput = document.getElementById('avatarInput');
  const editPen = document.getElementById('editPen');
  const modalContent = avatarModal.querySelector('.modal-content');

  // Open modal when avatar or pen is clicked
  avatarDisplay.addEventListener('click', (e) => {
    e.stopPropagation();
    // Sync modal avatar with current avatar
    avatarPreview.src = modalAvatarPreview.src;
    avatarModal.style.display = 'flex';
    document.body.style.overflow = 'hidden';
  });
  if (modalContent) {
    modalContent.addEventListener('click', (e) => {
      e.stopPropagation();
    });
  }
  // Close modal
// ...existing code...
closeBtnAvatar.addEventListener('click', (e) => {
  e.stopPropagation(); // Prevent bubbling to document
  avatarModal.style.display = 'none';
});
// ...existing code...

  // Close modal when clicking outside content
avatarModal.addEventListener('click', (e) => {
  if (e.target === avatarModal) {
    e.stopPropagation(); // Prevent bubbling to document
    avatarModal.style.display = 'none';
  }
});


  // After successful upload, update avatar in profile
  const uploadBtn = document.getElementById('uploadBtn');
  const statusText = document.getElementById('status');
  uploadBtn.addEventListener('click', () => {
    // After upload logic, if successful:
    // modalAvatarPreview.src = avatarPreview.src;
    // Optionally close modal here if you want
  });
});
// ...existing code...
</script>
<script>
    function toggleQuizSections(event) {
        const section = event.currentTarget;
        const quizSection = section.nextElementSibling;
        const arrow = section.querySelector('.toggle-arrow');
    
        if (quizSection) {
            quizSection.classList.toggle('hidden');
            arrow.classList.toggle('rotated');
    
            // Store state in localStorage
            if (quizSection.classList.contains('hidden')) {
                localStorage.setItem('quizSectionOpen', 'false');
            } else {
                localStorage.setItem('quizSectionOpen', 'true');
            }
        }
    }
    function openSection(event, sectionId) {
    event.preventDefault();
    console.log('openSection called with sectionId:', sectionId); // Debug log
    const section = document.getElementById(sectionId);
    console.log('section:', section); // Debug log
    if (section) {
        const quizSection = section.nextElementSibling;
        console.log('quizSection:', quizSection); // Debug log
        const arrow = section.querySelector('.toggle-arrow');
        console.log('arrow:', arrow); // Debug log
        if (quizSection && quizSection.classList.contains('hidden')) {
            quizSection.classList.remove('hidden');
            arrow.classList.add('rotated');
        }
        section.scrollIntoView({ behavior: 'smooth' });
    }
}   
    </script>

  <script>
    // Utility: Normalize strings by removing accents, converting to lowercase, and removing special characters and extra whitespace.
    function normalizeStr(str) {
        return str.normalize("NFD")
                  .replace(/[\u0300-\u036f]/g, "") // Remove accents
                  .replace(/[^a-z0-9\s]/gi, '') // Remove special characters
                  .replace(/\s+/g, ' ') // Replace multiple spaces with a single space
                  .trim() // Remove leading and trailing whitespace
                  .toLowerCase(); // Convert to lowercase
    }

    const searchInput = document.getElementById('searchInput');
    const suggestionsBox = document.getElementById('suggestions');
    const clearButton = document.getElementById('clearSearch');
    const sections = Array.from(document.querySelectorAll('section'));
    const swiper = document.querySelector('.swiper-container');
    const dropdowns = document.querySelectorAll('.quiz-section-main');
    const footer = document.querySelector('footer');
    const noResultsMessage = document.getElementById('noResultsMessage');
    const didYouMeanMessage = document.getElementById('didYouMeanMessage');

    // 🔹 STEP 1: Assign a unique `data-id` to sections if missing
    sections.forEach((section, index) => {
        if (!section.hasAttribute('data-id')) {
            section.setAttribute('data-id', `section-${index}`);
        }
    });

    // Collect all unique normalized tags from sections.
    let tagsSet = new Set();
    sections.forEach(section => {
        const tags = section.getAttribute('data-tags');
        if (tags) {
            tags.split(',').map(t => t.trim()).forEach(tag => {
                tagsSet.add(normalizeStr(tag));
            });
        }
    });
    const allTags = Array.from(tagsSet);

    // Display suggestions based on current input.
    function displaySuggestions(value) {
        suggestionsBox.innerHTML = '';
        noResultsMessage.style.display = 'none';
        didYouMeanMessage.style.display = 'none';
        suggestionsBox.classList.remove('no-hover'); // Remove no-hover class
        if (!value) {
            suggestionsBox.style.display = 'none';
            return;
        }
        const normalizedValue = normalizeStr(value);
        const filteredTags = allTags.filter(tag => tag.includes(normalizedValue));
        filteredTags.forEach(tag => {
            const div = document.createElement('div');
            div.textContent = tag;
            div.classList.add('suggestion-item');
            div.addEventListener('click', () => {
                searchInput.value = tag;
                performSearch(tag);
                suggestionsBox.innerHTML = '';
                suggestionsBox.style.display = 'none';
            });
            suggestionsBox.appendChild(div);
        });
        suggestionsBox.style.display = filteredTags.length ? 'block' : 'none';
    }

    // 🔹 STEP 2: Perform Search (Remove Duplicates!)
    function performSearch(query) {
        const normalizedQuery = normalizeStr(query.trim());
        if (!normalizedQuery) {
            // Reset: Show all sections & close dropdowns
            sections.forEach(section => {
                section.style.display = 'block';
                section.classList.remove('force-show');
                section.setAttribute('data-aos', 'fade-up'); // Add AOS attribute back
            });
            dropdowns.forEach(dropdown => {
                const quizSection = dropdown.nextElementSibling;
                const arrow = dropdown.querySelector('.toggle-arrow');
                if (quizSection && !quizSection.classList.contains('hidden')) {
                    quizSection.classList.add('hidden');
                    arrow.classList.remove('rotated');
                }
            });
            footer.style.display = 'block'; // Ensure footer is visible
            return;
        }

        const queryTerms = normalizedQuery.split(/\s+/);
        const shownIds = new Set(); // Prevent duplicates
        let found = false;

        sections.forEach(section => {
            const tagsAttr = section.getAttribute('data-tags');
            if (tagsAttr) {
                const tagList = tagsAttr.split(',').map(t => normalizeStr(t.trim()));

                // Multi-term matching logic
                const multiMatch = queryTerms.every(term => tagList.some(tag => tag.includes(term))) ||
                                    tagList.join('').includes(normalizedQuery);

                const sectionId = section.getAttribute('data-id');

                if (multiMatch) {
                    found = true;
                    // 🔥 STEP 3: Only Show First Occurrence of Each `data-id`
                    if (!shownIds.has(sectionId)) {
                        section.style.display = 'block';
                        section.classList.add('force-show');
			swiper.style.display = 'none';
                        section.removeAttribute('data-aos'); // Remove AOS attribute
                        shownIds.add(sectionId); // ✅ Prevents duplicate showing

                        // 🔹 STEP 4: Ensure Parent Dropdowns Are Opened
                        let parent = section.parentElement;
                        while (parent) {
                            if (parent.classList.contains('dropdown')) {
                                parent.classList.add('open'); // Expand dropdown
                                parent.style.maxHeight = 'none';
                                parent.style.overflow = 'visible';
                                break;
                            }
                            if (parent.classList.contains('hidden')) {
                                parent.classList.remove('hidden'); // Ensure hidden sections are visible
                            }
                            parent = parent.parentElement;
                        }
                    } else {
                        section.style.display = 'none'; // ✅ Hide Duplicates!
                    }
                } else {
                    section.style.display = 'none';
                }
            } else {
                section.style.display = 'none';
            }
        });

        // Display message if no results found
        if (!found) {
            noResultsMessage.style.display = 'block'; // Show "No results found" message

            // Suggest similar tags
            const similarTags = allTags.filter(tag => tag.startsWith(normalizedQuery.slice(0, 3)));
            if (similarTags.length > 0) {
                didYouMeanMessage.style.display = 'block'; // Show "Did you mean" message
                didYouMeanMessage.innerHTML = 'Did you mean:'; // Clear previous suggestions
                suggestionsBox.classList.add('no-hover'); // Add no-hover class

                similarTags.forEach(tag => {
                    const div = document.createElement('div');
                    div.textContent = tag;
                    div.classList.add('suggestion-item');
                    div.addEventListener('click', () => {
                        searchInput.value = tag;
                        performSearch(tag);
                        suggestionsBox.innerHTML = '';
                        suggestionsBox.style.display = 'none';
                    });
                    didYouMeanMessage.appendChild(div);
                });
            }
            suggestionsBox.style.display = 'block';
        } else {
            suggestionsBox.style.display = 'none';
        }

        // Ensure footer is visible
        footer.style.display = 'block';
    }

    function clearSearch() {
    searchInput.value = '';
    suggestionsBox.innerHTML = '';
    swiper.style.display = 'block';
    suggestionsBox.style.display = 'none';
    noResultsMessage.style.display = 'none';
    didYouMeanMessage.style.display = 'none';
    suggestionsBox.classList.remove('no-hover'); // Remove no-hover class

    sections.forEach(section => {
        section.style.display = 'block';
        section.classList.remove('force-show');
        section.setAttribute('data-aos', 'fade-up'); // Add AOS attribute back
    });

    dropdowns.forEach(dropdown => {
        const quizSection = dropdown.nextElementSibling;
        const arrow = dropdown.querySelector('.toggle-arrow');
        if (quizSection && !quizSection.classList.contains('hidden')) {
            // Use the toggleQuizSections function to close the dropdown
            toggleQuizSections({ currentTarget: dropdown });
        }
    });

    clearButton.style.display = 'none';
    footer.style.display = 'block'; // Ensure footer is visible
}

    // **Event Listeners**
    searchInput.addEventListener('input', (e) => {
        const value = e.target.value;
        displaySuggestions(value);
        if (value) {
            clearButton.style.display = 'block';
        } else {
            clearButton.style.display = 'none';
            clearSearch();
        }
    });

    searchInput.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
            performSearch(e.target.value);
            suggestionsBox.innerHTML = '';
            suggestionsBox.style.display = 'none';
            swiper.style.display = 'none';
        }
    });

    clearButton.addEventListener('click', clearSearch);
</script>
<script src="transitions.js" defer></script>

<script>
// Select all buttons with the class "quiz-link"
const buttons = document.querySelectorAll(".quiz-link");

buttons.forEach(button => {
  // Handle touchstart
  button.addEventListener("touchstart", () => {
    button.classList.add("active");  // Add the active class (button pressed down)
    setTimeout(() => {
      button.classList.remove("active");  // Automatically remove the class after a short delay
    }, 100);  // Adjust this time as needed
  });

  // Handle mousedown (for desktops)
  button.addEventListener("mousedown", () => {
    button.classList.add("active");  // Add the active class (button pressed down)
    setTimeout(() => {
      button.classList.remove("active");  // Automatically remove the class after a short delay
    }, 100);  // Adjust this time as needed
  });
});

  
document.addEventListener("DOMContentLoaded", () => {
    // Wave Animation
    const waveText = document.querySelector('.wave-text');
    if (waveText) {
        // Split text into characters, preserving spaces
        const text = waveText.textContent;
        waveText.innerHTML = text.split('').map((letter, index) => 
            letter === ' ' ? '&nbsp;' : `<span style="animation-delay: ${index * 0.1}s">${letter}</span>`
        ).join('');
    }

    // Smooth Scrolling
// ...existing code...
// ...existing code...
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();

        const target = document.querySelector(this.getAttribute('href'));
        if (!target) return;

        // Always open parent container if it exists
        let parent = target.parentElement;
        while (parent) {
            if (parent.classList && parent.classList.contains('hidden')) {
                parent.classList.remove('hidden');
                // Optionally rotate the arrow if present
                const arrow = parent.previousElementSibling?.querySelector('.toggle-arrow');
                if (arrow) arrow.classList.add('rotated');
            }
            parent = parent.parentElement;
        }

        // Use scrollIntoView for smooth transition after layout update
        setTimeout(() => {
            target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 10);
    });
});
// ...existing code...
// ...existing code...

    // Initialize Swiper
    const swiper = new Swiper('.swiper-container', {
        loop: true,
        pagination: {
            el: '.swiper-pagination',
            clickable: true,
        },
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
        autoplay: {
            delay: 3000,
            disableOnInteraction: false,
        },
        effect: 'fade',
        fadeEffect: {
            crossFade: true,
        },
    });

    // Initialize AOS
    AOS.init({
        duration: 800, // Duration of the animation in milliseconds
        once: false,   // Whether animation should happen only once - while scrolling down
    });
});

</script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('service-worker.js')
          .then(() => {
            console.log('Service Worker registered');
          })
          .catch((error) => {
            console.error('Service Worker registration failed:', error);
          });
    
        // Listen for cache progress messages from the service worker
        navigator.serviceWorker.addEventListener('message', (event) => {
          if (event.data && event.data.type === 'CACHE_PROGRESS') {
            const { loaded, total } = event.data;
            const progress = Math.round((loaded / total) * 100);  // Calculate percentage progress
            console.log(`Caching Progress: ${progress}%`);
    
            // Show alert when all files are cached
            if (progress >= 100) {
              console.log("Caching complete!");
              setTimeout(() => {
                alert('All resources have been cached!');
              }, 300);
            }
          }
    
          // Alert when all files are cached (explicit message)
          if (event.data && event.data.type === 'CACHE_COMPLETE') {
            console.log('All resources have been cached!');
          }
        });
      }
    });
    </script>
    
<script>
    document.addEventListener('click', function(e) {
      const target = e.target.closest('.quiz-link');
      if (!target) return; // If not clicking on a quiz-link, do nothing
  
      const rect = target.getBoundingClientRect();
      const circle = document.createElement('span');
      circle.classList.add('ripple');
  
      const size = Math.max(rect.width, rect.height) * 0.6; // smaller ripple
      circle.style.width = circle.style.height = size + 'px';
      circle.style.left = (e.clientX - rect.left - size / 2) + 'px';
      circle.style.top = (e.clientY - rect.top - size / 2) + 'px';
  
      target.appendChild(circle);
  
      setTimeout(() => {
        circle.remove();
      }, 700); // match animation time
    });
  </script>
  
  
<script data-goatcounter="https://petershaw.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>

</body>
</html>