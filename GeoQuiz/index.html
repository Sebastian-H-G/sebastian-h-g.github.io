<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="theme-color">
    <title>Geo Quiz</title>
    <!-- Include Swiper's CSS and JS -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
    <link rel="manifest" href="manifest.json">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
	<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
	<link rel="stylesheet" href="styles.css">
	
	<link rel="icon" href="Logos/Geography.ico" type="image/x-icon">
<link rel="icon" href="Logos/Geography-16x16.webp" sizes="16x16" type="image/webp">
<link rel="icon" href="Logos/Geography-32x32.webp" sizes="32x32" type="image/webp">
<link rel="icon" href="Logos/Geography-48x48.webp" sizes="48x48" type="image/webp">

<!-- Apple Touch Icons -->
<link rel="apple-touch-icon" href="Logos/Geography.webp">
<link rel="apple-touch-icon" sizes="57x57" href="Logos/Geography-57x57.webp">
<link rel="apple-touch-icon" sizes="72x72" href="Logos/Geography-72x72.webp">
<link rel="apple-touch-icon" sizes="114x114" href="Logos/Geography-114x114.webp">
<link rel="apple-touch-icon" sizes="152x152" href="Logos/Geography-152x152.webp">
<link rel="apple-touch-icon" sizes="180x180" href="Logos/Geography-180x180.webp">
<style>
    #site-content {
        display: none;
    }
#auth-box, #profile, #sa-profile {
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
  padding: 2rem;
  max-width: 400px;
  width: 100%;
  margin-bottom: 2rem;
}

h2, h3 {
  margin-top: 0;
  color: #2c3e50;
  font-size: 1.5rem;
}

input {
  width: 100%;
  padding: 0.75rem;
  margin-top: 0.5rem;
  margin-bottom: 1rem;
  border: 1px solid #ccc;
  border-radius: 6px;
  font-size: 1rem;
  box-sizing: border-box;
  transition: border 0.3s ease;
}

input:focus {
  border-color: #3498db;
  outline: none;
}

button {
  width: 100%;
  padding: 0.75rem;
  background-color: #3498db;
  color: white;
  border: none;
  border-radius: 6px;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.3s ease;
  margin-bottom: 1rem;
}

button:hover {
  background-color: #2980b9;
}

hr {
  border: none;
  border-top: 1px solid #eee;
  margin: 2rem 0;
}

p {
  margin: 0.5rem 0;
}

strong {
  font-weight: 600;
}
#profile {
    display: none;
    position: fixed;
    margin: 0 auto;
    top: 50%;
    left: 50%;
z-index: 10009876;
    transform: translate(-50%, -50%);
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
    padding: 2rem;
    max-width: 400px;
}
        /* Custom fade-in animation */
        @keyframes fadeInUp {
      0% {
        opacity: 0;
        transform: translateY(20px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .animate-fade-in-up {
      animation: fadeInUp 0.5s ease-out forwards;
    }
/* Styling for the search area */
.containerSearch {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 0;
    margin-bottom: 30px;
}

#searchContainer {
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    width: 70%;
    max-width: 400px;
}

#searchInput {
    width: 100%;
    box-sizing: border-box;
    padding: 12px 40px 12px 15px;
    border-radius: 20px;
    border: 1px solid #ccc;
    font-size: 16px;
    background-color: #fff;
    color: black;
    transition: all 0.3s ease-in-out;
    box-shadow: 0 4px 0 #d0d0d0;
}

/* Placeholder text color */
#searchInput::placeholder {
    color: black;
    opacity: 0.7;
}

/* Focus effect */
#searchInput:focus {
    outline: none;
    transform: translateY(-2px);
    box-shadow: 0 2px 0 #d0d0d0;
}

/* Clear button */
#clearSearch {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    cursor: pointer;
    background: transparent;
    border: none;
    font-size: 18px;
    color: #666;
    display: none;
    transition: color 0.2s ease, transform 0.2s ease-in-out;
}

/* Hover effect on clear button */
#clearSearch:hover {
    color: red;
    cursor: pointer;

}

/* Suggestions dropdown styling */
#suggestions {
        border: 1px solid #ccc;
        max-height: 120px;
        overflow-y: scroll;
        position: absolute;
        background: #fff;
        margin-top: 5px;
        border-radius: 12px;
        width: 100%;
        z-index: 100;
        top: 100%;
        left: 0;
        overflow: hidden;
        color: black;
        display: none; /* Initially hidden */
    }
    .suggestion-item {
        padding: 5px;
        cursor: pointer;
    }
    
    .dropdown {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
}

/* When "open", the dropdown expands to show its content */
.dropdown.open {
    max-height: none !important;
    overflow: visible !important;
    display: block !important;
}

    /* Ensure the matching section is displayed */
    .force-show {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
    }
    /* Ensure the footer is always visible */
    footer {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
    }
    .no-results-message {
    padding: 10px;
    text-align: center;
    color: white;
    padding: 20px;
    border-radius: 7px;
    margin: 2% 20% 0 20%;
    background-color: red;
    font-weight: bold;
    font-size: 20px;
    font-family: 'Courier New', Courier, monospace;
    display: none; /* Initially hidden */
}

.did-you-mean-message {
    text-align: center;
    padding: 20px;
    background-color: rgb(80, 172, 195);
    padding: 10px;
    border-radius: 7px;
    margin: 2% 20% 0 20%;
    color: white;
    font-family:'Courier New', Courier, monospace;
    font-size: 20px;
    font-weight: bold;
    display: none; /* Initially hidden */
}
button {
    position: relative;
    overflow: hidden;
    cursor: pointer;
  }

  .ripple {
    position: absolute;
    border-radius: 50%;
    background: currentColor; /* Ripple takes button text color */
    opacity: 0.3; /* Start opacity */
    transform: scale(0);
    animation: ripple-animation 700ms ease-out;
    pointer-events: none;
  }

  @keyframes ripple-animation {
    to {
      transform: scale(6); /* bigger spread */
      opacity: 0;
    }
  }
</style>
</head>
<body class="page-exit">


  <!-- Supabase Auth Embed -->
  <div id="auth-box">
    <h2>Register</h2>
    <input id="regEmail"    type="email"    placeholder="Email">
    <input id="regPassword" type="password" placeholder="Password">
    <input id="regUsername" type="text"     placeholder="Username">
    <button onclick="handleRegister()">Sign Up</button>

    <hr>

    <h2>Login</h2>
    <input id="loginEmail"    type="email"    placeholder="Email">
    <input id="loginPassword" type="password" placeholder="Password">
    <button onclick="handleLogin()">Log In</button>
  </div>

  <div id="profile" style="display:none;">
    <h2>Your Profile</h2>
    <p><strong>Email:</strong> <span id="pEmail"></span></p>
    <p><strong>Username:</strong> <span id="pUsername"></span></p>
    <button onclick="handleLogout()">Log Out</button>
  </div>
  
  <div id="sa-profile" style="display:none; margin-top: 2rem; padding: 1rem; border: 1px solid #ddd;">
    <h3>Your Profile</h3>
    <p><strong>Email:</strong> <span id="sa-pEmail"></span></p>
    <p><strong>Username:</strong> <span id="sa-pUsername"></span></p>
    <button onclick="saHandleLogout()">Log Out</button>
  </div>

  <div id="site-content">
    <header>
        <div id="logo" class="logo">
            <img src="Logos/Geography.webp" alt="Optimized"   >
        </div>
        
         <h1 class="wave-text">Welcome to the Geography Quiz!</h1>
    
        <nav>
            <div class="containerSearch">
                
                <div id="searchContainer">
                    <input type="text" id="searchInput" placeholder="Search for a Quiz..." autocomplete="on">
                    <button id="clearSearch">&times;</button>
                    <div id="suggestions"></div>
                  </div>
            </div>
            
            <ul>
                <li><a href="#capital-quiz"><i class="fas fa-city"></i> Capital Quiz</a></li>
                <li><a href="#flag-quiz"><i class="fas fa-flag"></i> Flag Quiz</a></li>
                <li><a href="#worldcountries"><i class="fas fa-globe"></i>World Countries</a></li> 
    
                </ul> <ul>
     <li><a href="#ger-section" onclick="openSection(event, 'ger-section')"><div class="flag-de"></div>
    Germany</a></li>
     <li><a href="#mex-section" onclick="openSection(event, 'mex-section')"><div class="flag-mx"></div>Mexico</a></li>
     <li><a href="#us-section" onclick="openSection(event, 'us-section')"><i class="fas fa-flag-usa"></i>USA</a></li>
     
     <li><a href="#memory-quiz"><i class="fas fa-brain"></i> Memory</a></li>
            </ul>
        </nav>
    </header>
    
    
    
    <!-- Swiper Container -->
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <img src="Bilder/slide1.webp" alt="Optimized"    >
                <div class="slide-text">
                    <h2>Discover the World</h2>
                    <p>Explore our geography quizzes and test your knowledge.</p>
                </div>
            </div>
            <div class="swiper-slide">
                <img src="Bilder/capital slide.webp" alt="Optimized"    >
                <div class="slide-text">
                    <h2>Learn About Capitals</h2>
                    <p>Challenge yourself with our capital city quiz.</p>
                </div>
            </div>
            <div class="swiper-slide">
                <img src="Bilder/flag slide.webp" alt="Optimized"    >
                <div class="slide-text">
                    <h2>Flags of the World</h2>
                    <p>See how many flags you can identify.</p>
                </div>
            </div>
                    <div class="swiper-slide">
                <img src="Bilder/map slide.webp" alt="Optimized"    >
                <div class="slide-text">
                    <h2>Navigate with Precision</h2>
                    <p>Test your ability to locate countries, cities, and landmarks on a map.</p>
                </div>
            </div>
            <div class="swiper-slide">
                <img src="Bilder/river slide.jpeg" alt="Optimized"    >
                <div class="slide-text">
                    <h2>Flow Through Knowledge</h2>
                    <p>Can you identify the countries through which famous rivers flow?</p>
                </div>
            </div>
            <div class="swiper-slide">
                <img src="Bilder/Mountain.JPEG" alt="Optimized"    >
                <div class="slide-text">
                    <h2>Conquer the Mountain of Questions!</h2>
                    <p>Ready to scale new heights? Test your knowledge of the world's tallest peaks, famous ranges, and mountain facts.</p>
                </div>
            </div>
            <div class="swiper-slide">
                <img src="Bilder/population.JPEG" alt="Optimized"    >
                <div class="slide-text">
                    <h2>Guess the Numbers: The Ultimate Population Quiz!</h2>
                    <p>Think you know the world's population stats? Dive into our quiz and test your knowledge!</p>
                </div>
            </div>
            <div class="swiper-slide">
                <img src="Bilder/slide 2.JPEG" alt="Optimized"    >
                <div class="slide-text">
                    <h2>Desert Secrets & Forest Wonders</h2>
                    <p>A Quiz That Takes You From Sun-Baked Deserts to Verdant Forests - Test Your Expertise!</p>
                </div>
            </div>
            <div class="swiper-slide">
                <img src="Bilder/memory slide.webp" alt="Optimized"    >
                <div class="slide-text">
                    <h2>Geography Meets Memory</h2>
                    <p>Engage your brain with geography-based memory games and quizzes.</p>
                </div>
            </div>
        </div>
        <!-- Add Pagination and Navigation -->
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>
    
    <main>
        <!-- Quiz Sections -->
         <section class="quiz-section-main" data-aos="fade-up">
            <i class="fa-solid fa-star" id="section-symbol"></i>
            Favorites
            <i class="fa-solid fa-star" id="section-symbol"></i>
         </section>
        <section id="capital-quiz" class="quiz-section" data-tags="capital, world capitals, capital" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/Capital.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Capital Quiz</h2>
                    <p>Here you can find all sorts of Capital Quizzes.</p>
                </div>
            </div>
            <a href="Capitals_Quizzes.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="flag-quiz" class="quiz-section" data-tags="flag, world flags, flags" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/Flag.webp" alt="Optimized" class="quiz-logo"    >
                <div>
                    <h2>Flag Quiz</h2>
                    <p>Identify the flags of different countries.</p>
                </div>
            </div>
            <a href="All_Flags.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="worldcountries" class="quiz-section" data-tags="world countries, map, world, countries" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/worldcountries2.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of the World</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="worldcountries.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="map-quiz" class="quiz-section" data-tags="map, map quiz, karte, world, countries, world countries" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/Map.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Map Quiz</h2>
                    <p>Locate countries and cities on a map.</p>
                </div>
            </div>
            <a href="worldcountries_map_click.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="africa" class="quiz-section" data-tags="africa, map, africa countries, countries" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/africa.png" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of Africa</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="africa.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="asia" class="quiz-section" data-tags="asia, map, asia countries, countries" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/asia.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of Asia</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="asia.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
    <section id="germany" class="quiz-section" data-tags="germany, states, map, germany states, bundesländer, deutschland bundesländer, deutschland " data-aos="fade-up">
        <div class="quiz-content">
            <img src="Logos/Germany.JPEG" alt="Optimized" class="quiz-logo"   >
            <div>
                <h2>Deutschland Bundesländer</h2>
                <p>Wissen ist Macht: Stell dich dem Deutschland-Quiz und beweis es!</p>
            </div> 
        </div>
        <a href="Germany.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
    </section>
    <section id="mexico" class="quiz-section" data-tags="mexico, mexiko, map, mexico states, states, estados" data-aos="fade-up">
        <div class="quiz-content">
            <img src="Logos/Mexico.JPEG" alt="Optimized" class="quiz-logo"   >
            <div>
                <h2>Estados de México</h2>
                <p>¡Más allá del sombrero y el tequila! ¿Cuánto sabes de México? Pon a prueba tu pasión por México con nuestro quiz.</p>
            </div>
        </div>
        <a href="mexico.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
    </section>
    <section id="usa" class="quiz-section" data-tags="us, usa, us states, map, states, united states" data-aos="fade-up">
        <div class="quiz-content">
            <img src="Logos/USA.JPEG" alt="Optimized" class="quiz-logo">
            <div>
                <h2>USA States</h2>
                <p>Stars, Stripes, and Smarts: Are You a USA Expert? Put Your Knowledge to the Test and Ace This Quiz!</p>
            </div>
        </div>
        <a href="us.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
    </section>
    
        <section id="memory-quiz" class="quiz-section" data-tags="game, memory, games" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/Memory.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Memory</h2>
                    <p>Test your memory with geography-based challenges.</p>
                </div>
            </div>
            <a href="Memory.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="match-madness-quiz" class="quiz-section" data-tags="game, match madness, capital, capital game, games" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/match_madness.png" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Match Madness</h2>
                    <p>Match the capitals with the countries.</p>
                </div>
            </div>
            <a href="MatchMadness.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
    
    
    
    
    
    
    
    
    
    
    
        <section style="background-color: rgb(61, 184, 143);" id="continent-section" class="quiz-section-main" data-aos="fade-up" onclick="toggleQuizSections(event)">
            <i class="fa-solid fa-globe" style="margin-right: 10px;"></i>
            Continents Quizzes
            <i class="fa-solid fa-chevron-down toggle-arrow"></i>
        </section>
        <div id="quiz-sections-countries" class="hidden">
         <section id="worldcountries" class="quiz-section" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/worldcountries2.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of the World</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="worldcountries.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="africa" class="quiz-section" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/africa.png" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of Africa</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="africa.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="europe" class="quiz-section" data-tags="europe, map, europe countries, countries" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/europe.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of Europe</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="europe.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="asia" class="quiz-section" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/asia.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of Asia</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="asia.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="south-america" class="quiz-section" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/samerica.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of South America</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="southamerica.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="north-america" class="quiz-section" data-tags="north america, map, north america countries, countries" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/namerica.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of North America</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="northamerica.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="oceania" class="quiz-section" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/oceania.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of Oceania</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="oceania.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        </div>
    
    
    
        <section  style="
      background: url('https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg') no-repeat center center;
      background-size: 100% auto;
      background-position: fill;
      color: white;
      text-align: center;
      "  class="quiz-section-main" data-aos="fade-up" id="us-section" onclick="toggleQuizSections(event)">
            USA Quizzes
            <i class="fa-solid fa-chevron-down toggle-arrow"></i>
        </section>
        <div id="quiz-sections-usa" class="hidden">
        <section id="usa" class="quiz-section" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/USA.JPEG" alt="Optimized" class="quiz-logo">
                <div>
                    <h2>USA States</h2>
                    <p>Stars, Stripes, and Smarts: Are You a USA Expert? Put Your Knowledge to the Test and Ace This Quiz!</p>
                </div>
            </div>
            <a href="us.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="usa" class="quiz-section" data-tags="us, usa, us states capitals, capitals" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/us-capitals.webp" alt="Optimized" class="quiz-logo">
                <div>
                    <h2>USA States Capitals</h2>
                    <p>Stars, Stripes, and Smarts: Are You a USA Expert? Put Your Knowledge to the Test and Ace This Quiz!</p>
                </div>
            </div>
            <a href="us states capitals.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
    </div>
    <section style="
      background: 
        url('Bilder/mx-wappen.png') no-repeat center center, 
        linear-gradient(to right, green 33.33%, white 33.33%, white 66.66%, red 66.66%);
      background-size: auto 50%, cover; /* Ensure the coat of arms is visible */
      color: black;
      text-align: center;
      padding: 20px;
    " class="quiz-section-main" id="mex-section" data-aos="fade-up" onclick="toggleQuizSections(event)">
        Mexico Quizzes
        <i class="fa-solid fa-chevron-down toggle-arrow"></i>
    </section>
    
    
        <div id="quiz-sections-mexico" class="hidden">
            <section id="mexico" class="quiz-section" data-aos="fade-up">
                <div class="quiz-content">
                    <img src="Logos/Mexico.JPEG" alt="Optimized" class="quiz-logo"   >
                    <div>
                        <h2>Estados de México</h2>
                        <p>¡Más allá del sombrero y el tequila! ¿Cuánto sabes de México? Pon a prueba tu pasión por México con nuestro quiz.</p>
                    </div>
                </div>
                <a href="mexico.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
            </section>
            <section id="mexico" class="quiz-section" data-tags="mexico, states capitals, capitales estados, capitales de los estados de mexico" data-aos="fade-up">
                <div class="quiz-content">
                    <img src="Logos/mx-capitals.webp" alt="Optimized" class="quiz-logo"   >
                    <div>
                        <h2>Capitales de los Estados de México </h2>
                        <p>¡Más allá del sombrero y el tequila! ¿Cuánto sabes de México? Pon a prueba tu pasión por México con nuestro quiz.</p>
                    </div>
                </div>
                <a href="inprogress.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
            </section>
        </div>
    
        <section style="background: linear-gradient(to bottom, black 33.33%, red 33.33%, red 66.66%, gold 66.66%);"  
      class="quiz-section-main" id="ger-section" data-aos="fade-up" onclick="toggleQuizSections(event)">
        Germany Quizzes
        <i class="fa-solid fa-chevron-down toggle-arrow"></i>
    </section>
    
    <div id="quiz-sections-germany" class="hidden">
        <section id="germany" class="quiz-section" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/Germany.JPEG" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Deutschland Bundesländer</h2>
                    <p>Wissen ist Macht: Stell dich dem Deutschland-Quiz und beweis es!</p>
                </div> 
            </div>
            <a href="Germany.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
    
        <section id="germany" class="quiz-section" data-tags="germany, deutschland, bundesländer hauptstädte, states capitals, capital, germany states capitals" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/de-capitals.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Deutschland Bundesländer Hauptstädte</h2>
                    <p>Wissen ist Macht: Stell dich dem Deutschland-Quiz und beweis es!</p>
                </div> 
            </div>
            <a href="inprogress.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
    </div>
    
    
        <section id="all-section" class="quiz-section-main" data-aos="fade-up" onclick="toggleQuizSections(event)">
            All Quizzes
            <i class="fa-solid fa-chevron-down toggle-arrow"></i>
        </section>
    
    
        <div id="quiz-sections-all" class="hidden">
         <section id="capital-quiz" class="quiz-section" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/Capital.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Capital Quiz</h2>
                    <p>Test your knowledge of world capitals.</p>
                </div>
            </div>
            <a href="Capitals_Quizzes.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
    
        <section id="flag-quiz" class="quiz-section" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/Flag.webp" alt="Optimized" data-tags="flag, world flags" class="quiz-logo"    >
                <div>
                    <h2>Flag Quiz</h2>
                    <p>Identify the flags of different countries.</p>
                </div>
            </div>
            <a href="All_Flags.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="flag-color-quiz" class="quiz-section" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/flag-color.PNG" alt="Optimized" data-tags="flag, game, flag color, world flags" class="quiz-logo"    >
                <div>
                    <h2>Flag Color Quiz</h2>
                    <p>Color the flags of different countries.</p>
                </div>
            </div>
            <a href="flag-color.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
    
        <section id="map-quiz" class="quiz-section" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/Map.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Map Quiz</h2>
                    <p>Locate countries and cities on a map.</p>
                </div>
            </div>
            <a href="worldcountries_map_click.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="worldcountries" class="quiz-section" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/worldcountries2.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of the World</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="worldcountries.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="worldcountries_by_border" class="quiz-section" data-tags="world countries, borders, border, 90 seconds, map, world, countries" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/worldcountries2.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>World Countries by Borders</h2>
                    <p>When you guess a country, all the countries it borders will also be completed. Can you fill in the world map in just 90 seconds?</p>
                </div>
            </div>
            <a href="worldcountries_in_90.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="worldcountries_empty" class="quiz-section" data-tags="world countries, empty, challenging, hard, empty map, map, world, countries" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/worldcountries2.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>World Countries Empty Map</h2>
                    <p>Name all the countries of the world. Once you name a country it will appear on the map.</p>
                </div>
            </div>
            <a href="worldcountries_empty.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="africa" class="quiz-section" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/africa.png" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of Africa</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="africa.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="europe" class="quiz-section" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/europe.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of Europe</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="europe.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="asia" class="quiz-section" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/asia.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of Asia</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="asia.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="south-america" class="quiz-section" data-tags="south-america america, map, south america countries, countries" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/samerica.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of South America</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="southamerica.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="norht-america" class="quiz-section" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/namerica.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of North America</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="northamerica.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="oceania" class="quiz-section" data-tags="oceania, map, oceania countries, countries" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/oceania.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Countries of Oceania</h2>
                    <p>How many countries can you name? As you answer, the map will be filled in.</p>
                </div>
            </div>
            <a href="oceania.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="river-quiz" class="quiz-section" data-tags="river, river quiz" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/River.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>River Quiz</h2>
                    <p>Match rivers with their respective countries.</p>
                </div>
            </div>
            <a href="River.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="moutain-quiz" class="quiz-section" data-tags="mountain, mountains" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/Mountain.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Mountain</h2>
                    <p>Climb the Peaks of Knowledge!</p>
                </div>
            </div>
            <a href="Mountain_Quiz.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="population-quiz" class="quiz-section" data-tags="population, population quiz" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/Population.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Population</h2>
                    <p>How Well Do You Know the World’s People? Take the Quiz!</p>
                </div>
            </div>
          <a href="inprogress.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
        <section id="deserts-and-forests" class="quiz-section" data-tags="desert, forest, deserts and forests" data-aos="fade-up">
        <div class="quiz-content">
            <img src="Logos/Desert&Forest.JPEG" alt="Optimized" class="quiz-logo"   >
            <div>
                <h2>Deserts & Forests</h2>
                <p>Explore the Extremes: Are You Ready to Challenge Your Knowledge of Desert Dunes and Forest Groves? Dive Into the Challenge!</p>
            </div>
        </div>
        <a href="inprogress.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
    </section>
    <section id="cities" class="quiz-section" data-tags="cities, städte, city" data-aos="fade-up">
        <div class="quiz-content">
            <img src="Logos/Cities.JPEG" alt="Optimized" class="quiz-logo"   >
            <div>
                <h2>Cities Quiz</h2>
                <p>Explore the World’s Most Iconic Cities: A Quiz That Will Challenge Your Urban Knowledge and Test Your Global Awareness!</p>
            </div>
        </div>
        <a href="inprogress.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
    </section> 
    <section id="countries-shape" class="quiz-section" data-tags="shape, countries shape, countries" data-aos="fade-up">
        <div class="quiz-content">
            <img src="Logos/shape.JPEG" alt="Optimized" class="quiz-logo"   >
            <div>
                <h2>Countries Shape Quiz</h2>
                <p>Can You Guess the Country by Its Shape?</p>
            </div>
        </div>
        <a href="shape.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
    </section> 
    <section id="germany" class="quiz-section" data-aos="fade-up">
        <div class="quiz-content">
            <img src="Logos/Germany.JPEG" alt="Optimized" class="quiz-logo"   >
            <div>
                <h2>Deutschland Bundesländer
                </h2>
                <p>Wissen ist Macht: Stell dich dem Deutschland-Quiz und beweis es!</p>
            </div> 
        </div>
        <a href="Germany.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
    </section>
    <section id="germany" class="quiz-section" data-aos="fade-up">
        <div class="quiz-content">
            <img src="Logos/de-capitals.webp" alt="Optimized" class="quiz-logo"   >
            <div>
                <h2>Deutschland Bundesländer Hauptstädte</h2>
                <p>Wissen ist Macht: Stell dich dem Deutschland-Quiz und beweis es!</p>
            </div> 
        </div>
        <a href="inprogress.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
    </section>
    <section id="mexico" class="quiz-section" data-aos="fade-up">
        <div class="quiz-content">
            <img src="Logos/Mexico.JPEG" alt="Optimized" class="quiz-logo"   >
            <div>
                <h2>Estados de México</h2>
                <p>¡Más allá del sombrero y el tequila! ¿Cuánto sabes de México? Pon a prueba tu pasión por México con nuestro quiz.</p>
            </div>
        </div>
        <a href="mexico.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
    </section>
    <section id="mexico" class="quiz-section" data-aos="fade-up">
        <div class="quiz-content">
            <img src="Logos/mx-capitals.webp" alt="Optimized" class="quiz-logo"   >
            <div>
                <h2>Capitales de los Estaods de México </h2>
                <p>¡Más allá del sombrero y el tequila! ¿Cuánto sabes de México? Pon a prueba tu pasión por México con nuestro quiz.</p>
            </div>
        </div>
        <a href="inprogress.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
    </section>
    <section id="usa" class="quiz-section" data-aos="fade-up">
        <div class="quiz-content">
            <img src="Logos/USA.JPEG" alt="Optimized" class="quiz-logo">
            <div>
                <h2>USA States</h2>
                <p>Stars, Stripes, and Smarts: Are You a USA Expert? Put Your Knowledge to the Test and Ace This Quiz!</p>
            </div>
        </div>
        <a href="us.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
    </section>
    <section id="usa" class="quiz-section" data-aos="fade-up">
        <div class="quiz-content">
            <img src="Logos/us-capitals.webp" alt="Optimized" class="quiz-logo">
            <div>
                <h2>USA States Capitals</h2>
                <p>Stars, Stripes, and Smarts: Are You a USA Expert? Put Your Knowledge to the Test and Ace This Quiz!</p>
            </div>
        </div>
        <a href="us states capitals.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
    </section>
        <section id="memory-quiz" class="quiz-section" data-aos="fade-up">
            <div class="quiz-content">
                <img src="Logos/Memory.webp" alt="Optimized" class="quiz-logo"   >
                <div>
                    <h2>Memory</h2>
                    <p>Test your memory with geography-based challenges.</p>
                </div>
            </div>
            <a href="Memory.html" onclick="delayLink(event, this)" class="quiz-link">Start Quiz</a>
        </section>
    </div>
    
    </main>
    <div id="message">
        <div id="noResultsMessage" class="no-results-message" style="display: none;">No results found.</div>
        <div id="didYouMeanMessage" class="did-you-mean-message" style="display: none;"><u>Did you mean:</u></div>
    </div>
    <footer class="footer" data-aos="fade-up">
        <div class="footer-container">
          <div class="footer-logo">
            <a href="../index.html"><img src="Logos/Geography.webp" alt="Optimized"></a>
          </div>
          <div class="footer-info">
            <div class="footer-social">
              <a href="#"><i class="fab fa-facebook-f"></i></a>
              <a href="#"><i class="fab fa-twitter"></i></a>
              <a href="#"><i class="fab fa-instagram"></i></a>
              <a href="#"><i class="fab fa-linkedin-in"></i></a>
              <a href="Terms and Privacy.html" class="halved-shield">
                  <i class="fas fa-shield fa-shield-left"></i>
                  <i class="fas fa-shield fa-shield-right"></i>
                </a>
            </div>
            <div class="footer-copyright">
              <p>&copy; 2024 GEOQUIZ LTD GmbH & Co. KG <br> All Rights Reserved.</p>
            </div>
          </div>
        </div>
      </footer>
    
    </div>

    
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script>
  const SUPABASE_URL      = 'https://pzyzdmndotuvbvfhxwad.supabase.co';
  const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB6eXpkbW5kb3R1dmJ2Zmh4d2FkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY4MDUxNzIsImV4cCI6MjA2MjM4MTE3Mn0.UpltfEmKUgYINeWP4aHPOkYT8cOx6nVi0cdE5bMAjqA';
  const sb = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

  function showApp(user) {
    document.getElementById('auth-box').style.display     = 'none';
    document.getElementById('site-content').style.display = 'block';
    loadProfile(user);
  }

  // 1) Register: check username availability, then sign up
  async function handleRegister() {
    const email    = document.getElementById('regEmail').value.trim();
    const password = document.getElementById('regPassword').value;
    const username = document.getElementById('regUsername').value.trim();

    if (!username) {
      return alert('Please choose a username.');
    }

    // 1a) client-side check for existing username
    const { data: clash, error: clashErr } = await sb
      .from('profiles')
      .select('id', { count: 'exact' })
      .eq('username', username)
      .maybeSingle();
    if (clashErr) {
      console.error('[handleRegister] username check error:', clashErr);
      return alert('Error checking username availability.');
    }
    if (clash) {
      return alert(`Sorry, “${username}” is already taken. Please choose another.`);
    }

    // 1b) sign up, storing username in metadata
    const { data, error } = await sb.auth.signUp({
      email,
      password,
      options: { data: { username } }
    });
    if (error) {
      console.error('[handleRegister] signup error:', error);
      return alert('Signup error: ' + error.message);
    }

    alert('✅ Check your email to confirm before logging in.');
    console.log('[handleRegister] signUp returned user:', data.user);
  }

  // 2) Login: maybe insert profile if none exists
  async function handleLogin() {
    const email    = document.getElementById('loginEmail').value.trim();
    const password = document.getElementById('loginPassword').value;

    const { error: signInError, data: signInData } = await sb.auth.signInWithPassword({ email, password });
    if (signInError) {
      console.error('[handleLogin] login error:', signInError);
      return alert('Login error: ' + signInError.message);
    }

    const { data: userData, error: userErr } = await sb.auth.getUser();
    if (userErr || !userData.user) {
      console.error('[handleLogin] getUser error:', userErr);
      return alert('Unable to get user—make sure you confirmed your email.');
    }
    const user = userData.user;

    // 2a) check if profile already exists
    const { data: existing, error: fetchErr } = await sb
      .from('profiles')
      .select('id')
      .eq('id', user.id)
      .maybeSingle();
    if (fetchErr) console.error('[handleLogin] fetch profile error:', fetchErr);

    if (!existing) {
      // 2b) pull username from metadata
      const username = user.user_metadata?.username || 'anonymous';

      // 2c) upsert: insert or update the username in profiles
      const { error: upsertErr } = await sb
        .from('profiles')
        .upsert([{ id: user.id, username }], { onConflict: 'id' });
      if (upsertErr) {
        console.error('[handleLogin] upsert profile error:', upsertErr);
        return alert('Error saving profile: ' + upsertErr.message);
      }
      console.log('[handleLogin] profile upserted for', user.id, 'as', username);
    }

    showApp(user);
  }

  // 3) Load and display profile
  async function loadProfile(user) {
    document.getElementById('pEmail').textContent = user.email;
    const { data: profile, error } = await sb
      .from('profiles')
      .select('username')
      .eq('id', user.id)
      .single();
    if (error) {
      console.error('[loadProfile] error:', error);
      document.getElementById('pUsername').textContent = '(error)';
      return;
    }
    document.getElementById('pUsername').textContent = profile.username || '(no username)';
  }

  // 4) Logout
  async function handleLogout() {
    await sb.auth.signOut();
    document.getElementById('auth-box').style.display     = 'block';
    document.getElementById('profile').style.display      = 'none';
    document.getElementById('site-content').style.display = 'none';
    alert('Logged out');
  }

  // Auto-login on page load / auth changes
  sb.auth.getSession().then(({ data }) => {
    if (data.session) showApp(data.session.user);
  });
  sb.auth.onAuthStateChange((_, session) => {
    if (session) showApp(session.user);
  });


document.getElementById('logo').addEventListener('click', () => {
  const profileBox = document.getElementById('profile');
  if (profileBox.style.display === 'none') {
    profileBox.style.display = 'block';
  } else {
    profileBox.style.display = 'none';
  }
});
</script>




	
<script>
    function toggleQuizSections(event) {
        const section = event.currentTarget;
        const quizSection = section.nextElementSibling;
        const arrow = section.querySelector('.toggle-arrow');
    
        if (quizSection) {
            quizSection.classList.toggle('hidden');
            arrow.classList.toggle('rotated');
    
            // Store state in localStorage
            if (quizSection.classList.contains('hidden')) {
                localStorage.setItem('quizSectionOpen', 'false');
            } else {
                localStorage.setItem('quizSectionOpen', 'true');
            }
        }
    }
    function openSection(event, sectionId) {
    event.preventDefault();
    console.log('openSection called with sectionId:', sectionId); // Debug log
    const section = document.getElementById(sectionId);
    console.log('section:', section); // Debug log
    if (section) {
        const quizSection = section.nextElementSibling;
        console.log('quizSection:', quizSection); // Debug log
        const arrow = section.querySelector('.toggle-arrow');
        console.log('arrow:', arrow); // Debug log
        if (quizSection && quizSection.classList.contains('hidden')) {
            quizSection.classList.remove('hidden');
            arrow.classList.add('rotated');
        }
        section.scrollIntoView({ behavior: 'smooth' });
    }
}   
    </script>
  <script>
    // Utility: Normalize strings by removing accents, converting to lowercase, and removing special characters and extra whitespace.
    function normalizeStr(str) {
        return str.normalize("NFD")
                  .replace(/[\u0300-\u036f]/g, "") // Remove accents
                  .replace(/[^a-z0-9\s]/gi, '') // Remove special characters
                  .replace(/\s+/g, ' ') // Replace multiple spaces with a single space
                  .trim() // Remove leading and trailing whitespace
                  .toLowerCase(); // Convert to lowercase
    }

    const searchInput = document.getElementById('searchInput');
    const suggestionsBox = document.getElementById('suggestions');
    const clearButton = document.getElementById('clearSearch');
    const sections = Array.from(document.querySelectorAll('section'));
    const swiper = document.querySelector('.swiper-container');
    const dropdowns = document.querySelectorAll('.quiz-section-main');
    const footer = document.querySelector('footer');
    const noResultsMessage = document.getElementById('noResultsMessage');
    const didYouMeanMessage = document.getElementById('didYouMeanMessage');

    // 🔹 STEP 1: Assign a unique `data-id` to sections if missing
    sections.forEach((section, index) => {
        if (!section.hasAttribute('data-id')) {
            section.setAttribute('data-id', `section-${index}`);
        }
    });

    // Collect all unique normalized tags from sections.
    let tagsSet = new Set();
    sections.forEach(section => {
        const tags = section.getAttribute('data-tags');
        if (tags) {
            tags.split(',').map(t => t.trim()).forEach(tag => {
                tagsSet.add(normalizeStr(tag));
            });
        }
    });
    const allTags = Array.from(tagsSet);

    // Display suggestions based on current input.
    function displaySuggestions(value) {
        suggestionsBox.innerHTML = '';
        noResultsMessage.style.display = 'none';
        didYouMeanMessage.style.display = 'none';
        suggestionsBox.classList.remove('no-hover'); // Remove no-hover class
        if (!value) {
            suggestionsBox.style.display = 'none';
            return;
        }
        const normalizedValue = normalizeStr(value);
        const filteredTags = allTags.filter(tag => tag.includes(normalizedValue));
        filteredTags.forEach(tag => {
            const div = document.createElement('div');
            div.textContent = tag;
            div.classList.add('suggestion-item');
            div.addEventListener('click', () => {
                searchInput.value = tag;
                performSearch(tag);
                suggestionsBox.innerHTML = '';
                suggestionsBox.style.display = 'none';
            });
            suggestionsBox.appendChild(div);
        });
        suggestionsBox.style.display = filteredTags.length ? 'block' : 'none';
    }

    // 🔹 STEP 2: Perform Search (Remove Duplicates!)
    function performSearch(query) {
        const normalizedQuery = normalizeStr(query.trim());
        if (!normalizedQuery) {
            // Reset: Show all sections & close dropdowns
            sections.forEach(section => {
                section.style.display = 'block';
                section.classList.remove('force-show');
                section.setAttribute('data-aos', 'fade-up'); // Add AOS attribute back
            });
            dropdowns.forEach(dropdown => {
                const quizSection = dropdown.nextElementSibling;
                const arrow = dropdown.querySelector('.toggle-arrow');
                if (quizSection && !quizSection.classList.contains('hidden')) {
                    quizSection.classList.add('hidden');
                    arrow.classList.remove('rotated');
                }
            });
            footer.style.display = 'block'; // Ensure footer is visible
            return;
        }

        const queryTerms = normalizedQuery.split(/\s+/);
        const shownIds = new Set(); // Prevent duplicates
        let found = false;

        sections.forEach(section => {
            const tagsAttr = section.getAttribute('data-tags');
            if (tagsAttr) {
                const tagList = tagsAttr.split(',').map(t => normalizeStr(t.trim()));

                // Multi-term matching logic
                const multiMatch = queryTerms.every(term => tagList.some(tag => tag.includes(term))) ||
                                    tagList.join('').includes(normalizedQuery);

                const sectionId = section.getAttribute('data-id');

                if (multiMatch) {
                    found = true;
                    // 🔥 STEP 3: Only Show First Occurrence of Each `data-id`
                    if (!shownIds.has(sectionId)) {
                        section.style.display = 'block';
                        section.classList.add('force-show');
			swiper.style.display = 'none';
                        section.removeAttribute('data-aos'); // Remove AOS attribute
                        shownIds.add(sectionId); // ✅ Prevents duplicate showing

                        // 🔹 STEP 4: Ensure Parent Dropdowns Are Opened
                        let parent = section.parentElement;
                        while (parent) {
                            if (parent.classList.contains('dropdown')) {
                                parent.classList.add('open'); // Expand dropdown
                                parent.style.maxHeight = 'none';
                                parent.style.overflow = 'visible';
                                break;
                            }
                            if (parent.classList.contains('hidden')) {
                                parent.classList.remove('hidden'); // Ensure hidden sections are visible
                            }
                            parent = parent.parentElement;
                        }
                    } else {
                        section.style.display = 'none'; // ✅ Hide Duplicates!
                    }
                } else {
                    section.style.display = 'none';
                }
            } else {
                section.style.display = 'none';
            }
        });

        // Display message if no results found
        if (!found) {
            noResultsMessage.style.display = 'block'; // Show "No results found" message

            // Suggest similar tags
            const similarTags = allTags.filter(tag => tag.startsWith(normalizedQuery.slice(0, 3)));
            if (similarTags.length > 0) {
                didYouMeanMessage.style.display = 'block'; // Show "Did you mean" message
                didYouMeanMessage.innerHTML = 'Did you mean:'; // Clear previous suggestions
                suggestionsBox.classList.add('no-hover'); // Add no-hover class

                similarTags.forEach(tag => {
                    const div = document.createElement('div');
                    div.textContent = tag;
                    div.classList.add('suggestion-item');
                    div.addEventListener('click', () => {
                        searchInput.value = tag;
                        performSearch(tag);
                        suggestionsBox.innerHTML = '';
                        suggestionsBox.style.display = 'none';
                    });
                    didYouMeanMessage.appendChild(div);
                });
            }
            suggestionsBox.style.display = 'block';
        } else {
            suggestionsBox.style.display = 'none';
        }

        // Ensure footer is visible
        footer.style.display = 'block';
    }

    function clearSearch() {
    searchInput.value = '';
    suggestionsBox.innerHTML = '';
    swiper.style.display = 'block';
    suggestionsBox.style.display = 'none';
    noResultsMessage.style.display = 'none';
    didYouMeanMessage.style.display = 'none';
    suggestionsBox.classList.remove('no-hover'); // Remove no-hover class

    sections.forEach(section => {
        section.style.display = 'block';
        section.classList.remove('force-show');
        section.setAttribute('data-aos', 'fade-up'); // Add AOS attribute back
    });

    dropdowns.forEach(dropdown => {
        const quizSection = dropdown.nextElementSibling;
        const arrow = dropdown.querySelector('.toggle-arrow');
        if (quizSection && !quizSection.classList.contains('hidden')) {
            // Use the toggleQuizSections function to close the dropdown
            toggleQuizSections({ currentTarget: dropdown });
        }
    });

    clearButton.style.display = 'none';
    footer.style.display = 'block'; // Ensure footer is visible
}

    // **Event Listeners**
    searchInput.addEventListener('input', (e) => {
        const value = e.target.value;
        displaySuggestions(value);
        if (value) {
            clearButton.style.display = 'block';
        } else {
            clearButton.style.display = 'none';
            clearSearch();
        }
    });

    searchInput.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
            performSearch(e.target.value);
            suggestionsBox.innerHTML = '';
            suggestionsBox.style.display = 'none';
            swiper.style.display = 'none';
        }
    });

    clearButton.addEventListener('click', clearSearch);
</script>
<script src="transitions.js" defer></script>

<script>
// Select all buttons with the class "quiz-link"
const buttons = document.querySelectorAll(".quiz-link");

buttons.forEach(button => {
  // Handle touchstart
  button.addEventListener("touchstart", () => {
    button.classList.add("active");  // Add the active class (button pressed down)
    setTimeout(() => {
      button.classList.remove("active");  // Automatically remove the class after a short delay
    }, 100);  // Adjust this time as needed
  });

  // Handle mousedown (for desktops)
  button.addEventListener("mousedown", () => {
    button.classList.add("active");  // Add the active class (button pressed down)
    setTimeout(() => {
      button.classList.remove("active");  // Automatically remove the class after a short delay
    }, 100);  // Adjust this time as needed
  });
});

  
document.addEventListener("DOMContentLoaded", () => {
    // Wave Animation
    const waveText = document.querySelector('.wave-text');
    if (waveText) {
        // Split text into characters, preserving spaces
        const text = waveText.textContent;
        waveText.innerHTML = text.split('').map((letter, index) => 
            letter === ' ' ? '&nbsp;' : `<span style="animation-delay: ${index * 0.1}s">${letter}</span>`
        ).join('');
    }

    // Smooth Scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();

            const target = document.querySelector(this.getAttribute('href'));
            const offset = 40; // Adjust this value as per your header height

            window.scrollTo({
                top: target.offsetTop - offset,
                behavior: 'smooth'
            });
        });
    });

    // Initialize Swiper
    const swiper = new Swiper('.swiper-container', {
        loop: true,
        pagination: {
            el: '.swiper-pagination',
            clickable: true,
        },
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
        autoplay: {
            delay: 3000,
            disableOnInteraction: false,
        },
        effect: 'fade',
        fadeEffect: {
            crossFade: true,
        },
    });

    // Initialize AOS
    AOS.init({
        duration: 800, // Duration of the animation in milliseconds
        once: false,   // Whether animation should happen only once - while scrolling down
    });
});

</script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('service-worker.js')
          .then(() => {
            console.log('Service Worker registered');
          })
          .catch((error) => {
            console.error('Service Worker registration failed:', error);
          });
    
        // Listen for cache progress messages from the service worker
        navigator.serviceWorker.addEventListener('message', (event) => {
          if (event.data && event.data.type === 'CACHE_PROGRESS') {
            const { loaded, total } = event.data;
            const progress = Math.round((loaded / total) * 100);  // Calculate percentage progress
            console.log(`Caching Progress: ${progress}%`);
    
            // Show alert when all files are cached
            if (progress >= 100) {
              console.log("Caching complete!");
              setTimeout(() => {
                alert('All resources have been cached!');
              }, 300);
            }
          }
    
          // Alert when all files are cached (explicit message)
          if (event.data && event.data.type === 'CACHE_COMPLETE') {
            console.log('All resources have been cached!');
          }
        });
      }
    });
    </script>
    
<script>
    document.addEventListener('click', function(e) {
      const target = e.target.closest('.quiz-link');
      if (!target) return; // If not clicking on a quiz-link, do nothing
  
      const rect = target.getBoundingClientRect();
      const circle = document.createElement('span');
      circle.classList.add('ripple');
  
      const size = Math.max(rect.width, rect.height) * 0.6; // smaller ripple
      circle.style.width = circle.style.height = size + 'px';
      circle.style.left = (e.clientX - rect.left - size / 2) + 'px';
      circle.style.top = (e.clientY - rect.top - size / 2) + 'px';
  
      target.appendChild(circle);
  
      setTimeout(() => {
        circle.remove();
      }, 700); // match animation time
    });
  </script>
  
  
<script data-goatcounter="https://petershaw.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>
</body>
</html>
